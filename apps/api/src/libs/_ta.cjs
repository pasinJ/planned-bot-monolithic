var _ta;(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{buildTechnicalAnalysisModule:()=>Bi});const n=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function r(e,t,r){return function(){if(0===arguments.length)return r();var i=arguments[arguments.length-1];if(!n(i)){for(var s=0;s<e.length;){if("function"==typeof i[e[s]])return i[e[s]].apply(i,Array.prototype.slice.call(arguments,0,-1));s+=1}if(function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}(i))return t.apply(null,Array.prototype.slice.call(arguments,0,-1))(i)}return r.apply(this,arguments)}}const i=function(){return this.xf["@@transducer/init"]()},s=function(e){return this.xf["@@transducer/result"](e)};function u(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function a(e){return function t(n){return 0===arguments.length||u(n)?t:e.apply(this,arguments)}}function o(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return u(n)?t:a((function(t){return e(n,t)}));default:return u(n)&&u(r)?t:u(n)?a((function(t){return e(t,r)})):u(r)?a((function(t){return e(n,t)})):e(n,r)}}}function c(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function l(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}function h(e,t){return Object.prototype.hasOwnProperty.call(t,e)}const f="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var d=Object.prototype.toString;const p=function(){return"[object Arguments]"===d.call(arguments)?function(e){return"[object Arguments]"===d.call(e)}:function(e){return h("callee",e)}}();var v=!{toString:null}.propertyIsEnumerable("toString"),m=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],g=function(){return arguments.propertyIsEnumerable("length")}(),y=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const x="function"!=typeof Object.keys||g?a((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=g&&p(e);for(t in e)!h(t,e)||i&&"length"===t||(r[r.length]=t);if(v)for(n=m.length-1;n>=0;)h(t=m[n],e)&&!y(r,t)&&(r[r.length]=t),n-=1;return r})):a((function(e){return Object(e)!==e?[]:Object.keys(e)})),w=a((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function b(e,t,n,r){var i=c(e);function s(e,t){return _(e,t,n.slice(),r.slice())}return!l((function(e,t){return!l(s,t,e)}),c(t),i)}function _(e,t,n,r){if(f(e,t))return!0;var i,s,u=w(e);if(u!==w(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(s=String(i).match(/^function (\w*)/))?"":s[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!f(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!f(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var a=n.length-1;a>=0;){if(n[a]===e)return r[a]===t;a-=1}switch(u){case"Map":return e.size===t.size&&b(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&b(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=x(e);if(o.length!==x(t).length)return!1;var c=n.concat([e]),l=r.concat([t]);for(a=o.length-1;a>=0;){var d=o[a];if(!h(d,t)||!_(t[d],e[d],c,l))return!1;a-=1}return!0}const k=o((function(e,t){return _(e,t,[],[])}));Date.prototype.toISOString;const N=Number.isInteger||function(e){return e<<0===e};function S(e){return"[object String]"===Object.prototype.toString.call(e)}const M=o((function(e,t){var n=e<0?t.length+e:e;return S(t)?t.charAt(n):t[n]})),O=o((function(e,t){if(null!=t)return N(e)?M(e,t):t[e]}));function Z(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return u(n)?t:o((function(t,r){return e(n,t,r)}));case 2:return u(n)&&u(r)?t:u(n)?o((function(t,n){return e(t,r,n)})):u(r)?o((function(t,r){return e(n,t,r)})):a((function(t){return e(n,r,t)}));default:return u(n)&&u(r)&&u(i)?t:u(n)&&u(r)?o((function(t,n){return e(t,n,i)})):u(n)&&u(i)?o((function(t,n){return e(t,r,n)})):u(r)&&u(i)?o((function(t,r){return e(n,t,r)})):u(n)?a((function(t){return e(t,r,i)})):u(r)?a((function(t){return e(n,t,i)})):u(i)?a((function(t){return e(n,r,t)})):e(n,r,i)}}}"undefined"!=typeof Symbol&&Symbol.iterator;const T=o((function(e,t){return function(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,s=[];for(n=0;n<r;)s[s.length]=e[n],n+=1;for(n=0;n<i;)s[s.length]=t[n],n+=1;return s}(t,[e])}));function E(e,t,n){if(n||(n=new A),i=typeof(r=e),null==r||"object"!=i&&"function"!=i)return e;var r,i,s,u=function(r){var i=n.get(e);if(i)return i;for(var s in n.set(e,r),e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=t?E(e[s],!0,n):e[s]);return r};switch(w(e)){case"Object":return u(Object.create(Object.getPrototypeOf(e)));case"Array":return u([]);case"Date":return new Date(e.valueOf());case"RegExp":return s=e,new RegExp(s.source,s.flags?s.flags:(s.global?"g":"")+(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.sticky?"y":"")+(s.unicode?"u":"")+(s.dotAll?"s":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var A=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){const n=this.hash(e);let r=this.map[n];r||(this.map[n]=r=[]),r.push([e,t]),this.length+=1},e.prototype.hash=function(e){let t=[];for(var n in e)t.push(Object.prototype.toString.call(e[n]));return t.join()},e.prototype.get=function(e){if(this.length<=180){for(const t in this.map){const n=this.map[t];for(let t=0;t<n.length;t+=1){const r=n[t];if(r[0]===e)return r[1]}}return}const t=this.hash(e),n=this.map[t];if(n)for(let t=0;t<n.length;t+=1){const r=n[t];if(r[0]===e)return r[1]}},e}();const z=a((function(e){return null!=e&&"function"==typeof e.clone?e.clone():E(e,!0)}));function j(e,t){return function(){var r=arguments.length;if(0===r)return t();var i=arguments[r-1];return n(i)||"function"!=typeof i[e]?t.apply(this,arguments):i[e].apply(i,Array.prototype.slice.call(arguments,0,r-1))}}const C=Z(j("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),I=o((function(e,t){return null==t||t!=t?e:t}));var P=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=i,e.prototype["@@transducer/result"]=s,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}();function q(e){return function(t){return new P(e,t)}}const R=o(r(["drop"],q,(function(e,t){return C(Math.max(0,e),1/0,t)})));const D=a((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():n(e)?[]:S(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:p(e)?function(){return arguments}():(t=e,"[object Uint8ClampedArray]"===(r=Object.prototype.toString.call(t))||"[object Int8Array]"===r||"[object Uint8Array]"===r||"[object Int16Array]"===r||"[object Uint16Array]"===r||"[object Int32Array]"===r||"[object Uint32Array]"===r||"[object Float32Array]"===r||"[object Float64Array]"===r||"[object BigInt64Array]"===r||"[object BigUint64Array]"===r?e.constructor.from(""):void 0);var t,r})),U=o((function(e,t){return R(e>=0?t.length-e:0,t)}));"function"==typeof Object.assign&&Object.assign;const L=a((function(e){return null!=e&&k(e,D(e))})),$=a((function(e){return null==e})),F=a((function(e){return!$(e)})),B=a((function(e){for(var t=0,n=[];t<e.length;){for(var r=e[t],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;t+=1}return n}));String.prototype.trim;const V=Z((function(e,t,n){for(var r=[],i=0,s=Math.min(t.length,n.length);i<s;)r[i]=e(t[i],n[i]),i+=1;return r}));var K,W;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(K||(K={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(W||(W={}));const H=K.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),G=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(e)?H.array:null===e?H.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?H.promise:"undefined"!=typeof Map&&e instanceof Map?H.map:"undefined"!=typeof Set&&e instanceof Set?H.set:"undefined"!=typeof Date&&e instanceof Date?H.date:H.object;default:return H.unknown}},J=K.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Y extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,K.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Y.create=e=>new Y(e);const X=(e,t)=>{let n;switch(e.code){case J.invalid_type:n=e.received===H.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,K.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${K.joinValues(e.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${K.joinValues(e.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${K.joinValues(e.options)}, received '${e.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:K.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case J.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case J.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=t.defaultError,K.assertNever(e)}return{message:n}};let Q=X;function ee(){return Q}const te=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],u={...i,path:s};let a="";const o=r.filter((e=>!!e)).slice().reverse();for(const e of o)a=e(u,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}};function ne(e,t){const n=te({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ee(),X].filter((e=>!!e))});e.common.issues.push(n)}class re{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return ie;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return re.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return ie;if("aborted"===i.status)return ie;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const ie=Object.freeze({status:"aborted"}),se=e=>({status:"dirty",value:e}),ue=e=>({status:"valid",value:e}),ae=e=>"aborted"===e.status,oe=e=>"dirty"===e.status,ce=e=>"valid"===e.status,le=e=>"undefined"!=typeof Promise&&e instanceof Promise;var he;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(he||(he={}));class fe{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const de=(e,t)=>{if(ce(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Y(e.common.issues);return this._error=t,this._error}}};function pe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class ve{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return G(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:G(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new re,ctx:{common:e.parent.common,data:e.data,parsedType:G(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(le(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:G(e)},i=this._parseSync({data:e,path:r.path,parent:r});return de(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:G(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(le(r)?r:Promise.resolve(r));return de(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),s=()=>r.addIssue({code:J.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new nt({schema:this,typeName:pt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return rt.create(this,this._def)}nullable(){return it.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qe.create(this,this._def)}promise(){return tt.create(this,this._def)}or(e){return Ue.create([this,e],this._def)}and(e){return Be.create(this,e,this._def)}transform(e){return new nt({...pe(this._def),schema:this,typeName:pt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new st({...pe(this._def),innerType:this,defaultValue:t,typeName:pt.ZodDefault})}brand(){return new ct({typeName:pt.ZodBranded,type:this,...pe(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ut({...pe(this._def),innerType:this,catchValue:t,typeName:pt.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return lt.create(this,e)}readonly(){return ht.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const me=/^c[^\s-]{8,}$/i,ge=/^[a-z][a-z0-9]*$/,ye=/^[0-9A-HJKMNP-TV-Z]{26}$/,xe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,we=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let be;const _e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ke=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class Ne extends ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==H.string){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.string,received:t.parsedType}),ie}const t=new re;let n;for(const u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:J.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),t.dirty());else if("max"===u.kind)e.data.length>u.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:J.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),t.dirty());else if("length"===u.kind){const r=e.data.length>u.value,i=e.data.length<u.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?ne(n,{code:J.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):i&&ne(n,{code:J.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),t.dirty())}else if("email"===u.kind)we.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"email",code:J.invalid_string,message:u.message}),t.dirty());else if("emoji"===u.kind)be||(be=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),be.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"emoji",code:J.invalid_string,message:u.message}),t.dirty());else if("uuid"===u.kind)xe.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"uuid",code:J.invalid_string,message:u.message}),t.dirty());else if("cuid"===u.kind)me.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"cuid",code:J.invalid_string,message:u.message}),t.dirty());else if("cuid2"===u.kind)ge.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"cuid2",code:J.invalid_string,message:u.message}),t.dirty());else if("ulid"===u.kind)ye.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"ulid",code:J.invalid_string,message:u.message}),t.dirty());else if("url"===u.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),ne(n,{validation:"url",code:J.invalid_string,message:u.message}),t.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"regex",code:J.invalid_string,message:u.message}),t.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(n=this._getOrReturnCtx(e,n),ne(n,{code:J.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),t.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(n=this._getOrReturnCtx(e,n),ne(n,{code:J.invalid_string,validation:{startsWith:u.value},message:u.message}),t.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(n=this._getOrReturnCtx(e,n),ne(n,{code:J.invalid_string,validation:{endsWith:u.value},message:u.message}),t.dirty()):"datetime"===u.kind?((s=u).precision?s.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}Z$`):0===s.precision?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:J.invalid_string,validation:"datetime",message:u.message}),t.dirty()):"ip"===u.kind?(r=e.data,("v4"!==(i=u.version)&&i||!_e.test(r))&&("v6"!==i&&i||!ke.test(r))&&(n=this._getOrReturnCtx(e,n),ne(n,{validation:"ip",code:J.invalid_string,message:u.message}),t.dirty())):K.assertNever(u);var r,i,s;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:J.invalid_string,...he.errToObj(n)})}_addCheck(e){return new Ne({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...he.errToObj(e)})}url(e){return this._addCheck({kind:"url",...he.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...he.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...he.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...he.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...he.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...he.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...he.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...he.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...he.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...he.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...he.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...he.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...he.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...he.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...he.errToObj(t)})}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new Ne({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ne({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ne({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Se(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}Ne.create=e=>{var t;return new Ne({checks:[],typeName:pt.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...pe(e)})};class Me extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==H.number){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.number,received:t.parsedType}),ie}let t;const n=new re;for(const r of this._def.checks)"int"===r.kind?K.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ne(t,{code:J.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:J.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:J.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==Se(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:J.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ne(t,{code:J.not_finite,message:r.message}),n.dirty()):K.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,he.toString(t))}gt(e,t){return this.setLimit("min",e,!1,he.toString(t))}lte(e,t){return this.setLimit("max",e,!0,he.toString(t))}lt(e,t){return this.setLimit("max",e,!1,he.toString(t))}setLimit(e,t,n,r){return new Me({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:he.toString(r)}]})}_addCheck(e){return new Me({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&K.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Me.create=e=>new Me({checks:[],typeName:pt.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...pe(e)});class Oe extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==H.bigint){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.bigint,received:t.parsedType}),ie}let t;const n=new re;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:J.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:J.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:J.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):K.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,he.toString(t))}gt(e,t){return this.setLimit("min",e,!1,he.toString(t))}lte(e,t){return this.setLimit("max",e,!0,he.toString(t))}lt(e,t){return this.setLimit("max",e,!1,he.toString(t))}setLimit(e,t,n,r){return new Oe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:he.toString(r)}]})}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Oe.create=e=>{var t;return new Oe({checks:[],typeName:pt.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...pe(e)})};class Ze extends ve{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==H.boolean){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.boolean,received:t.parsedType}),ie}return ue(e.data)}}Ze.create=e=>new Ze({typeName:pt.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...pe(e)});class Te extends ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==H.date){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.date,received:t.parsedType}),ie}if(isNaN(e.data.getTime()))return ne(this._getOrReturnCtx(e),{code:J.invalid_date}),ie;const t=new re;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:J.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:J.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):K.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Te({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Te.create=e=>new Te({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:pt.ZodDate,...pe(e)});class Ee extends ve{_parse(e){if(this._getType(e)!==H.symbol){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.symbol,received:t.parsedType}),ie}return ue(e.data)}}Ee.create=e=>new Ee({typeName:pt.ZodSymbol,...pe(e)});class Ae extends ve{_parse(e){if(this._getType(e)!==H.undefined){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.undefined,received:t.parsedType}),ie}return ue(e.data)}}Ae.create=e=>new Ae({typeName:pt.ZodUndefined,...pe(e)});class ze extends ve{_parse(e){if(this._getType(e)!==H.null){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.null,received:t.parsedType}),ie}return ue(e.data)}}ze.create=e=>new ze({typeName:pt.ZodNull,...pe(e)});class je extends ve{constructor(){super(...arguments),this._any=!0}_parse(e){return ue(e.data)}}je.create=e=>new je({typeName:pt.ZodAny,...pe(e)});class Ce extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ue(e.data)}}Ce.create=e=>new Ce({typeName:pt.ZodUnknown,...pe(e)});class Ie extends ve{_parse(e){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.never,received:t.parsedType}),ie}}Ie.create=e=>new Ie({typeName:pt.ZodNever,...pe(e)});class Pe extends ve{_parse(e){if(this._getType(e)!==H.undefined){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.void,received:t.parsedType}),ie}return ue(e.data)}}Pe.create=e=>new Pe({typeName:pt.ZodVoid,...pe(e)});class qe extends ve{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==H.array)return ne(t,{code:J.invalid_type,expected:H.array,received:t.parsedType}),ie;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(ne(t,{code:e?J.too_big:J.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ne(t,{code:J.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ne(t,{code:J.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new fe(t,e,t.path,n))))).then((e=>re.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new fe(t,e,t.path,n))));return re.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new qe({...this._def,minLength:{value:e,message:he.toString(t)}})}max(e,t){return new qe({...this._def,maxLength:{value:e,message:he.toString(t)}})}length(e,t){return new qe({...this._def,exactLength:{value:e,message:he.toString(t)}})}nonempty(e){return this.min(1,e)}}function Re(e){if(e instanceof De){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=rt.create(Re(r))}return new De({...e._def,shape:()=>t})}return e instanceof qe?new qe({...e._def,type:Re(e.element)}):e instanceof rt?rt.create(Re(e.unwrap())):e instanceof it?it.create(Re(e.unwrap())):e instanceof Ve?Ve.create(e.items.map((e=>Re(e)))):e}qe.create=(e,t)=>new qe({type:e,minLength:null,maxLength:null,exactLength:null,typeName:pt.ZodArray,...pe(t)});class De extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=K.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==H.object){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.object,received:t.parsedType}),ie}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ie&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||s.push(e);const u=[];for(const e of i){const t=r[e],i=n.data[e];u.push({key:{status:"valid",value:e},value:t._parse(new fe(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Ie){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)u.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(ne(n,{code:J.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];u.push({key:{status:"valid",value:t},value:e._parse(new fe(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of u){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>re.mergeObjectSync(t,e))):re.mergeObjectSync(t,u)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new De({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,u;const a=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(u=he.errToObj(e).message)&&void 0!==u?u:a}:{message:a}}}:{}})}strip(){return new De({...this._def,unknownKeys:"strip"})}passthrough(){return new De({...this._def,unknownKeys:"passthrough"})}extend(e){return new De({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new De({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new De({...this._def,catchall:e})}pick(e){const t={};return K.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new De({...this._def,shape:()=>t})}omit(e){const t={};return K.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new De({...this._def,shape:()=>t})}deepPartial(){return Re(this)}partial(e){const t={};return K.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new De({...this._def,shape:()=>t})}required(e){const t={};return K.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof rt;)e=e._def.innerType;t[n]=e}})),new De({...this._def,shape:()=>t})}keyof(){return Xe(K.objectKeys(this.shape))}}De.create=(e,t)=>new De({shape:()=>e,unknownKeys:"strip",catchall:Ie.create(),typeName:pt.ZodObject,...pe(t)}),De.strictCreate=(e,t)=>new De({shape:()=>e,unknownKeys:"strict",catchall:Ie.create(),typeName:pt.ZodObject,...pe(t)}),De.lazycreate=(e,t)=>new De({shape:e,unknownKeys:"strip",catchall:Ie.create(),typeName:pt.ZodObject,...pe(t)});class Ue extends ve{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new Y(e.ctx.common.issues)));return ne(t,{code:J.invalid_union,unionErrors:n}),ie}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new Y(e)));return ne(t,{code:J.invalid_union,unionErrors:i}),ie}}get options(){return this._def.options}}Ue.create=(e,t)=>new Ue({options:e,typeName:pt.ZodUnion,...pe(t)});const Le=e=>e instanceof Je?Le(e.schema):e instanceof nt?Le(e.innerType()):e instanceof Ye?[e.value]:e instanceof Qe?e.options:e instanceof et?Object.keys(e.enum):e instanceof st?Le(e._def.innerType):e instanceof Ae?[void 0]:e instanceof ze?[null]:null;class $e extends ve{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.object)return ne(t,{code:J.invalid_type,expected:H.object,received:t.parsedType}),ie;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(ne(t,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Le(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new $e({typeName:pt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...pe(n)})}}function Fe(e,t){const n=G(e),r=G(t);if(e===t)return{valid:!0,data:e};if(n===H.object&&r===H.object){const n=K.objectKeys(t),r=K.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const n of r){const r=Fe(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===H.array&&r===H.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=Fe(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===H.date&&r===H.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Be extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(ae(e)||ae(r))return ie;const i=Fe(e.value,r.value);return i.valid?((oe(e)||oe(r))&&t.dirty(),{status:t.value,value:i.data}):(ne(n,{code:J.invalid_intersection_types}),ie)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Be.create=(e,t,n)=>new Be({left:e,right:t,typeName:pt.ZodIntersection,...pe(n)});class Ve extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.array)return ne(n,{code:J.invalid_type,expected:H.array,received:n.parsedType}),ie;if(n.data.length<this._def.items.length)return ne(n,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&n.data.length>this._def.items.length&&(ne(n,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new fe(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>re.mergeArray(t,e))):re.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Ve({...this._def,rest:e})}}Ve.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ve({items:e,typeName:pt.ZodTuple,rest:null,...pe(t)})};class Ke extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.object)return ne(n,{code:J.invalid_type,expected:H.object,received:n.parsedType}),ie;const r=[],i=this._def.keyType,s=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new fe(n,e,n.path,e)),value:s._parse(new fe(n,n.data[e],n.path,e))});return n.common.async?re.mergeObjectAsync(t,r):re.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Ke(t instanceof ve?{keyType:e,valueType:t,typeName:pt.ZodRecord,...pe(n)}:{keyType:Ne.create(),valueType:e,typeName:pt.ZodRecord,...pe(t)})}}class We extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.map)return ne(n,{code:J.invalid_type,expected:H.map,received:n.parsedType}),ie;const r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map((([e,t],s)=>({key:r._parse(new fe(n,e,n.path,[s,"key"])),value:i._parse(new fe(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return ie;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return ie;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}We.create=(e,t,n)=>new We({valueType:t,keyType:e,typeName:pt.ZodMap,...pe(n)});class He extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.set)return ne(n,{code:J.invalid_type,expected:H.set,received:n.parsedType}),ie;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ne(n,{code:J.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ne(n,{code:J.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return ie;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const u=[...n.data.values()].map(((e,t)=>i._parse(new fe(n,e,n.path,t))));return n.common.async?Promise.all(u).then((e=>s(e))):s(u)}min(e,t){return new He({...this._def,minSize:{value:e,message:he.toString(t)}})}max(e,t){return new He({...this._def,maxSize:{value:e,message:he.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}He.create=(e,t)=>new He({valueType:e,minSize:null,maxSize:null,typeName:pt.ZodSet,...pe(t)});class Ge extends ve{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.function)return ne(t,{code:J.invalid_type,expected:H.function,received:t.parsedType}),ie;function n(e,n){return te({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ee(),X].filter((e=>!!e)),issueData:{code:J.invalid_arguments,argumentsError:n}})}function r(e,n){return te({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ee(),X].filter((e=>!!e)),issueData:{code:J.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof tt){const e=this;return ue((async function(...t){const u=new Y([]),a=await e._def.args.parseAsync(t,i).catch((e=>{throw u.addIssue(n(t,e)),u})),o=await Reflect.apply(s,this,a);return await e._def.returns._def.type.parseAsync(o,i).catch((e=>{throw u.addIssue(r(o,e)),u}))}))}{const e=this;return ue((function(...t){const u=e._def.args.safeParse(t,i);if(!u.success)throw new Y([n(t,u.error)]);const a=Reflect.apply(s,this,u.data),o=e._def.returns.safeParse(a,i);if(!o.success)throw new Y([r(a,o.error)]);return o.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ge({...this._def,args:Ve.create(e).rest(Ce.create())})}returns(e){return new Ge({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ge({args:e||Ve.create([]).rest(Ce.create()),returns:t||Ce.create(),typeName:pt.ZodFunction,...pe(n)})}}class Je extends ve{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Je.create=(e,t)=>new Je({getter:e,typeName:pt.ZodLazy,...pe(t)});class Ye extends ve{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ne(t,{received:t.data,code:J.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Xe(e,t){return new Qe({values:e,typeName:pt.ZodEnum,...pe(t)})}Ye.create=(e,t)=>new Ye({value:e,typeName:pt.ZodLiteral,...pe(t)});class Qe extends ve{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ne(t,{expected:K.joinValues(n),received:t.parsedType,code:J.invalid_type}),ie}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ne(t,{received:t.data,code:J.invalid_enum_value,options:n}),ie}return ue(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Qe.create(e)}exclude(e){return Qe.create(this.options.filter((t=>!e.includes(t))))}}Qe.create=Xe;class et extends ve{_parse(e){const t=K.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==H.string&&n.parsedType!==H.number){const e=K.objectValues(t);return ne(n,{expected:K.joinValues(e),received:n.parsedType,code:J.invalid_type}),ie}if(-1===t.indexOf(e.data)){const e=K.objectValues(t);return ne(n,{received:n.data,code:J.invalid_enum_value,options:e}),ie}return ue(e.data)}get enum(){return this._def.values}}et.create=(e,t)=>new et({values:e,typeName:pt.ZodNativeEnum,...pe(t)});class tt extends ve{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.promise&&!1===t.common.async)return ne(t,{code:J.invalid_type,expected:H.promise,received:t.parsedType}),ie;const n=t.parsedType===H.promise?t.data:Promise.resolve(t.data);return ue(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}tt.create=(e,t)=>new tt({type:e,typeName:pt.ZodPromise,...pe(t)});class nt extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{ne(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?ie:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?ie:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ce(e))return e;const s=r.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>ce(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}K.assertNever(r)}}nt.create=(e,t,n)=>new nt({schema:e,typeName:pt.ZodEffects,effect:t,...pe(n)}),nt.createWithPreprocess=(e,t,n)=>new nt({schema:t,effect:{type:"preprocess",transform:e},typeName:pt.ZodEffects,...pe(n)});class rt extends ve{_parse(e){return this._getType(e)===H.undefined?ue(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rt.create=(e,t)=>new rt({innerType:e,typeName:pt.ZodOptional,...pe(t)});class it extends ve{_parse(e){return this._getType(e)===H.null?ue(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}it.create=(e,t)=>new it({innerType:e,typeName:pt.ZodNullable,...pe(t)});class st extends ve{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===H.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}st.create=(e,t)=>new st({innerType:e,typeName:pt.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...pe(t)});class ut extends ve{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return le(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Y(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Y(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ut.create=(e,t)=>new ut({innerType:e,typeName:pt.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...pe(t)});class at extends ve{_parse(e){if(this._getType(e)!==H.nan){const t=this._getOrReturnCtx(e);return ne(t,{code:J.invalid_type,expected:H.nan,received:t.parsedType}),ie}return{status:"valid",value:e.data}}}at.create=e=>new at({typeName:pt.ZodNaN,...pe(e)});const ot=Symbol("zod_brand");class ct extends ve{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class lt extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ie:"dirty"===e.status?(t.dirty(),se(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ie:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new lt({in:e,out:t,typeName:pt.ZodPipeline})}}class ht extends ve{_parse(e){const t=this._def.innerType._parse(e);return ce(t)&&(t.value=Object.freeze(t.value)),t}}ht.create=(e,t)=>new ht({innerType:e,typeName:pt.ZodReadonly,...pe(t)});const ft=(e,t={},n)=>e?je.create().superRefine(((r,i)=>{var s,u;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,a=null===(u=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===u||u,o="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...o,fatal:a})}})):je.create(),dt={object:De.lazycreate};var pt;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(pt||(pt={}));const vt=Ne.create,mt=Me.create,gt=at.create,yt=Oe.create,xt=Ze.create,wt=Te.create,bt=Ee.create,_t=Ae.create,kt=ze.create,Nt=je.create,St=Ce.create,Mt=Ie.create,Ot=Pe.create,Zt=qe.create,Tt=De.create,Et=De.strictCreate,At=Ue.create,zt=$e.create,jt=Be.create,Ct=Ve.create,It=Ke.create,Pt=We.create,qt=He.create,Rt=Ge.create,Dt=Je.create,Ut=Ye.create,Lt=Qe.create,$t=et.create,Ft=tt.create,Bt=nt.create,Vt=rt.create,Kt=it.create,Wt=nt.createWithPreprocess,Ht=lt.create,Gt={string:e=>Ne.create({...e,coerce:!0}),number:e=>Me.create({...e,coerce:!0}),boolean:e=>Ze.create({...e,coerce:!0}),bigint:e=>Oe.create({...e,coerce:!0}),date:e=>Te.create({...e,coerce:!0})},Jt=ie;var Yt=Object.freeze({__proto__:null,defaultErrorMap:X,setErrorMap:function(e){Q=e},getErrorMap:ee,makeIssue:te,EMPTY_PATH:[],addIssueToContext:ne,ParseStatus:re,INVALID:ie,DIRTY:se,OK:ue,isAborted:ae,isDirty:oe,isValid:ce,isAsync:le,get util(){return K},get objectUtil(){return W},ZodParsedType:H,getParsedType:G,ZodType:ve,ZodString:Ne,ZodNumber:Me,ZodBigInt:Oe,ZodBoolean:Ze,ZodDate:Te,ZodSymbol:Ee,ZodUndefined:Ae,ZodNull:ze,ZodAny:je,ZodUnknown:Ce,ZodNever:Ie,ZodVoid:Pe,ZodArray:qe,ZodObject:De,ZodUnion:Ue,ZodDiscriminatedUnion:$e,ZodIntersection:Be,ZodTuple:Ve,ZodRecord:Ke,ZodMap:We,ZodSet:He,ZodFunction:Ge,ZodLazy:Je,ZodLiteral:Ye,ZodEnum:Qe,ZodNativeEnum:et,ZodPromise:tt,ZodEffects:nt,ZodTransformer:nt,ZodOptional:rt,ZodNullable:it,ZodDefault:st,ZodCatch:ut,ZodNaN:at,BRAND:ot,ZodBranded:ct,ZodPipeline:lt,ZodReadonly:ht,custom:ft,Schema:ve,ZodSchema:ve,late:dt,get ZodFirstPartyTypeKind(){return pt},coerce:Gt,any:Nt,array:Zt,bigint:yt,boolean:xt,date:wt,discriminatedUnion:zt,effect:Bt,enum:Lt,function:Rt,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ft((t=>t instanceof e),t),intersection:jt,lazy:Dt,literal:Ut,map:Pt,nan:gt,nativeEnum:$t,never:Mt,null:kt,nullable:Kt,number:mt,object:Tt,oboolean:()=>xt().optional(),onumber:()=>mt().optional(),optional:Vt,ostring:()=>vt().optional(),pipeline:Ht,preprocess:Wt,promise:Ft,record:It,set:qt,strictObject:Et,string:vt,symbol:bt,transformer:Bt,tuple:Ct,undefined:_t,union:At,unknown:St,void:Ot,NEVER:Jt,ZodIssueCode:J,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Y}),Xt=Yt.union([Yt.string(),Yt.number(),Yt.boolean(),Yt.null()]),Qt=Yt.lazy((function(){return Yt.union([Xt,Yt.array(Qt),Yt.record(Qt)])}));function en(e,t){var n=t-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);return n<0?void 0:e.at(n)}function tn(e){return Yt.undefined().safeParse(e).success}function nn(e,t){if(e.length<2||t.length<2)return!1;var n=M(-1,e),r=M(-2,e),i=M(-1,t),s=M(-2,t);return!(tn(n)||tn(i)||tn(r)||tn(s))&&n>i&&r<=s}function rn(e,t){if(e.length<2||t.length<2)return!1;var n=M(-1,e),r=M(-2,e),i=M(-1,t),s=M(-2,t);return!(tn(n)||tn(i)||tn(r)||tn(s))&&n<i&&r>=s}function sn(e,t){var n=U(t,e).filter((function(e){return!isNaN(e)}));return!(n.length<t)&&n.reduce((function(e,t,r){if(!e)return e;if(0===r)return!0;var i=en(n,r);return!!(F(i)&&i>t)}),!0)}function un(e,t){var n=U(t,e).filter((function(e){return!isNaN(e)}));return!(n.length<t)&&n.reduce((function(e,t,r){if(!e)return e;if(0===r)return!0;var i=en(n,r);return!!(F(i)&&i<t)}),!0)}function an(e,t){if(!L(e))return U(t,e).reduce((function(e,t){return t>e?t:e}),Number.MIN_SAFE_INTEGER)}function on(e,t){if(!L(e))return U(t,e).reduce((function(e,t){return t<e?t:e}),Number.MAX_SAFE_INTEGER)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn,fn,dn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ln(this,"size",void 0),ln(this,"pushes",void 0),ln(this,"index",void 0),ln(this,"sum",void 0),ln(this,"vals",void 0),this.size=t,this.pushes=0,this.index=0,this.sum=0,this.vals=[]}var t,n,r;return t=e,r=[{key:"new",value:function(t){return new e(t)}}],(n=[{key:"push",value:function(e){this.pushes>=this.size&&(this.sum-=this.vals[this.index]),this.sum+=e,this.vals[this.index]=e,this.pushes+=1,this.index=(this.index+1)%this.size}},{key:"qpush",value:function(e){this.vals[this.index]=e,this.index=(this.index+1)%this.size}},{key:"get",value:function(e){return this.vals[(this.index+this.size-1+e)%this.size]}}])&&cn(t.prototype,n),r&&cn(t,r),e}();function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t,n,r,i,s,u){try{var a=e[s](u),o=a.value}catch(e){return void n(e)}a.done?t(o):Promise.resolve(o).then(r,i)}function mn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function u(e){vn(s,r,i,u,a,"next",e)}function a(e){vn(s,r,i,u,a,"throw",e)}u(void 0)}))}}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e){return function(e){if(Array.isArray(e))return pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){var n,r,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,r=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){u=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){u.label=s[1];break}if(6===s[0]&&u.label<i[1]){u.label=i[1],i=s;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(s);break}i[2]&&u.ops.pop(),u.trys.pop();continue}s=t.call(e,u)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(e,t,n,r,i,s,u){try{var a=e[s](u),o=a.value}catch(e){return void n(e)}a.done?t(o):Promise.resolve(o).then(r,i)}function _n(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function u(e){bn(s,r,i,u,a,"next",e)}function a(e){bn(s,r,i,u,a,"throw",e)}u(void 0)}))}}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e){return function(e){if(Array.isArray(e))return wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){var n,r,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,r=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){u=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){u.label=s[1];break}if(6===s[0]&&u.label<i[1]){u.label=i[1],i=s;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(s);break}i[2]&&u.ops.pop(),u.trys.pop();continue}s=t.call(e,u)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}hn=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},fn=[{key:"normalize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;return mn((function(){var r,i,s;return xn(this,(function(u){for(r=e-t.length,i=[],s=0;s<r;++s)i.push(n);return[2,yn(i).concat(yn(t))]}))}))()}},{key:"ad",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.length;return mn((function(){var s,u,a,o;return xn(this,(function(c){for(s=[],u=0,a=0;a<i;++a)0!=(o=e[a]-t[a])&&(u+=(n[a]-t[a]-e[a]+n[a])/o*r[a]),s[a]=u;return[2,s]}))}))()}},{key:"adosc",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.length;return mn((function(){var a,o,c,l,h,f,d,p,v;return xn(this,(function(m){for(a=s-1,o=2/(i+1),c=2/(s+1),l=[],h=0,f=0,d=0,p=0;p<u;++p)0!=(v=e[p]-t[p])&&(h+=(n[p]-t[p]-e[p]+n[p])/v*r[p]),0==p?(f=h,d=h):(f=(h-f)*o+f,d=(h-d)*c+d),p>=a&&l.push(f-d);return[2,l]}))}))()}},{key:"adx",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g,y,x;return xn(this,(function(w){for(i=[],s=(n-1)/n,u=1/n,a=0,o=0,c=1;c<n;++c)l=e[c]-e[c-1],h=t[c-1]-t[c],l<0?l=0:l>h&&(h=0),h<0?h=0:h>l&&(l=0),a+=l,o+=h;for(f=0,d=a,p=o,v=Math.abs(d-p),f+=m=v/(d+p)*100,g=n;g<r;++g)y=e[g]-e[g-1],x=t[g-1]-t[g],y<0?y=0:y>x&&(x=0),x<0?x=0:x>y&&(y=0),d=a=a*s+y,p=o=o*s+x,v=Math.abs(d-p),m=v/(d+p)*100,g-n<n-2?f+=m:g-n==n-2?(f+=m,i.push(f*u)):(f=f*s+m,i.push(f*u));return[2,i]}))}))()}},{key:"adxr",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S;return xn(this,(function(M){for(i=[],s=(n-1)/n,u=1/n,a=0,o=0,c=1;c<n;++c)l=e[c]-e[c-1],h=t[c-1]-t[c],l<0?l=0:l>h&&(h=0),h<0?h=0:h>l&&(l=0),a+=l,o+=h;for(f=0,d=a,p=o,v=Math.abs(d-p),f+=m=v/(d+p)*100,g={size:n-1,pushes:0,index:0,vals:[]},y=3*(n-1),x=n;x<r;++x)w=e[x]-e[x-1],b=t[x-1]-t[x],w<0?w=0:w>b&&(b=0),b<0?b=0:b>w&&(w=0),d=a=a*s+w,p=o=o*s+b,v=Math.abs(d-p),m=v/(d+p)*100,x-n<n-2?f+=m:x-n==n-2?(f+=m,g.vals[g.index]=f*u,g.index=g.index+1,g.index>=g.size&&(g.index=0)):(f=f*s+m,x>=y&&(_=g.vals[g.index],k=g.size-1+1,N=g.size,S=_+k%N,i.push(.5*(f*u+S))),g.vals[g.index]=f*u,g.index=g.index+1,g.index>=g.size&&(g.index=0));return[2,i]}))}))()}},{key:"ao",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l;return xn(this,(function(h){for(r=[],i=0,s=0,u=1/34,a=0;a<34;++a)o=.5*(e[a]+t[a]),i+=o,a>=29&&(s+=o);for(r.push(.2*s-u*i),c=34;c<n;++c)l=.5*(e[c]+t[c]),i+=l,s+=l,i-=.5*(e[c-34]+t[c-34]),s-=.5*(e[c-5]+t[c-5]),r.push(.2*s-u*i);return[2,r]}))}))()}},{key:"apo",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l;return xn(this,(function(h){for(i=[],s=2/(t+1),u=2/(n+1),a=e[0],o=e[0],c=1;c<r;++c)a=(e[c]-a)*s+a,o=(e[c]-o)*u+o,l=a-o,i.push(l);return[2,i]}))}))()}},{key:"aroon",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p;return xn(this,(function(v){for(i=[],s=[],u=100/n,a=0,o=-1,c=-1,l=e[0],h=t[0],p=n;p<r;++p,++a){if(f=e[p],o<a)for(l=e[o=a],d=a;++d<=p;)(f=e[d])>=l&&(l=f,o=d);else f>=l&&(o=p,l=f);if(f=t[p],c<a)for(h=t[c=a],d=a;++d<=p;)(f=t[d])<=h&&(h=f,c=d);else f<=h&&(c=p,h=f);i[i.length]=(n-(p-c))*u,s[s.length]=(n-(p-o))*u}return[2,[i,s]]}))}))()}},{key:"aroonosc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d;return xn(this,(function(p){for(i=[],s=100/n,u=0,a=-1,o=-1,c=e[0],l=t[0],f=n;f<r;++f,++u){if(d=e[f],a<u)for(c=e[a=u],h=u;++h<=f;)(d=e[h])>=c&&(c=d,a=h);else d>=c&&(a=f,c=d);if(d=t[f],o<u)for(l=t[o=u],h=u;++h<=f;)(d=t[h])<=l&&(l=d,o=h);else d<=l&&(o=f,l=d);i.push((a-o)*s)}return[2,i]}))}))()}},{key:"atr",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_;return xn(this,(function(k){for(s=[],u=1/r,a=0,a+=e[0]-t[0],o=1;o<r;++o)c=t[o],l=e[o],h=n[o-1],f=Math.abs(l-h),d=Math.abs(c-h),f>(p=l-c)&&(p=f),d>p&&(p=d),a+=p;for(v=a/r,s.push(v),m=r;m<i;++m)g=t[m],y=e[m],x=n[m-1],w=Math.abs(y-x),b=Math.abs(g-x),w>(_=y-g)&&(_=w),b>_&&(_=b),v=(_-v)*u+v,s.push(v);return[2,s]}))}))()}},{key:"avgprice",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u;return xn(this,(function(a){for(s=[],u=0;u<i;++u)s.push(.25*(e[u]+t[u]+n[u]+r[u]));return[2,s]}))}))()}},{key:"bbands",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p;return xn(this,(function(v){for(i=[],s=[],u=[],a=1/t,o=0,c=0,l=0;l<t;++l)o+=e[l],c+=e[l]*e[l];for(h=Math.sqrt(c*a-o*a*(o*a)),f=o*a,i.push(f-n*h),u.push(f+n*h),s.push(f),d=t;d<r;++d)o+=e[d],c+=e[d]*e[d],o-=e[d-t],c-=e[d-t]*e[d-t],h=Math.sqrt(c*a-o*a*(o*a)),p=o*a,u.push(p+n*h),i.push(p-n*h),s.push(p);return[2,[i,s,u]]}))}))()}},{key:"bop",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a;return xn(this,(function(o){for(s=[],u=0;u<i;++u)a=t[u]-n[u],s[u]=a<=0?0:(r[u]-e[u])/a;return[2,s]}))}))()}},{key:"cci",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d;return xn(this,(function(p){for(s=1/r,u=[],a=new dn(r),o=0;o<i;++o)if(l=(e[o]+t[o]+n[o])*(1/3),a.push(l),h=a.sum*s,o>=2*r-2){for(f=0,c=0;c<r;++c)f+=Math.abs(h-a.vals[c]);d=f*s,d=(l-h)/(d*=.015),u.push(d)}return[2,u]}))}))()}},{key:"cmo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a;return xn(this,(function(o){for(r=[],i=0,s=0,u=1;u<=t;++u)i+=e[u]>e[u-1]?e[u]-e[u-1]:0,s+=e[u]<e[u-1]?e[u-1]-e[u]:0;for(r.push(100*(i-s)/(i+s)),a=t+1;a<n;++a)i-=e[a-t]>e[a-t-1]?e[a-t]-e[a-t-1]:0,s-=e[a-t]<e[a-t-1]?e[a-t-1]-e[a-t]:0,i+=e[a]>e[a-1]?e[a]-e[a-1]:0,s+=e[a]<e[a-1]?e[a-1]-e[a]:0,r.push(100*(i-s)/(i+s));return[2,r]}))}))()}},{key:"crossany",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i;return xn(this,(function(s){for(r=[],i=1;i<n;++i)r.push(e[i]>t[i]&&e[i-1]<=t[i-1]||e[i]<t[i]&&e[i-1]>=t[i-1]);return[2]}))}))()}},{key:"crossover",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i;return xn(this,(function(s){for(r=[],i=1;i<n;++i)r.push(e[i]>t[i]&&e[i-1]<=t[i-1]);return[2]}))}))()}},{key:"cvi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c;return xn(this,(function(l){for(i=[],s=2/(n+1),u=new dn(n),a=e[0]-t[0],o=1;o<2*n-1;++o)a=(e[o]-t[o]-a)*s+a,u.qpush(a);for(o=2*n-1;o<r;++o)a=(e[o]-t[o]-a)*s+a,c=u.vals[u.index],i.push(100*(a-c)/c),u.qpush(a);return[2,i]}))}))()}},{key:"_cvi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l;return xn(this,(function(h){for(i=[],s=2/(n+1),u={size:n,index:0,pushes:0,vals:[]},a=e[0]-t[0],o=1;o<2*n-1;++o)a=(e[o]-t[o]-a)*s+a,u.vals[u.index]=a,u.index=u.index+1,u.index>=u.size&&(u.index=0);for(c=2*n-1;c<r;++c)a=(e[c]-t[c]-a)*s+a,l=u.vals[u.index],i.push(100*(a-l)/l),u.vals[u.index]=a,u.index=u.index+1,u.index>=u.size&&(u.index=0);return[2,i]}))}))()}},{key:"decay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u;return xn(this,(function(a){for(i=1/t,(r=[]).push(e[0]),s=1;s<n;++s)u=r[r.length-1]-i,r.push(e[s]>u?e[s]:u);return[2,r]}))}))()}},{key:"dema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o;return xn(this,(function(c){for(r=[],s=1-(i=2/(t+1)),u=e[0],a=u,o=0;o<n;++o)u=u*s+e[o]*i,o==t-1&&(a=u),o>=t-1&&(a=a*s+u*i,o>=2*(t-1)&&r.push(2*u-a));return[2,r]}))}))()}},{key:"di",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S,M,O,Z;return xn(this,(function(T){for(s=[],u=[],a=(r-1)/r,o=0,c=0,l=0,h=1;h<r;++h)f=t[h],d=e[h],p=n[h-1],v=Math.abs(d-p),m=Math.abs(f-p),v>(g=d-f)&&(g=v),m>g&&(g=m),o+=g,y=e[h]-e[h-1],x=t[h-1]-t[h],y<0?y=0:y>x&&(x=0),x<0?x=0:x>y&&(y=0),c+=y,l+=x;for(s.push(100*c/o),u.push(100*l/o),w=r;w<i;++w)b=t[w],_=e[w],k=n[w-1],N=Math.abs(_-k),S=Math.abs(b-k),N>(M=_-b)&&(M=N),S>M&&(M=S),o=o*a+M,O=e[w]-e[w-1],Z=t[w-1]-t[w],O<0?O=0:O>Z&&(Z=0),Z<0?Z=0:Z>O&&(O=0),c=c*a+O,l=l*a+Z,s.push(100*c/o),u.push(100*l/o);return[2,[s,u]]}))}))()}},{key:"dm",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p;return xn(this,(function(v){for(i=[],s=[],u=(n-1)/n,a=0,o=0,c=1;c<n;++c)l=e[c]-e[c-1],h=t[c-1]-t[c],l<0?l=0:l>h&&(h=0),h<0?h=0:h>l&&(l=0),a+=l,o+=h;for(i.push(a),s.push(o),f=n;f<r;++f)d=e[f]-e[f-1],p=t[f-1]-t[f],d<0?d=0:d>p&&(p=0),p<0?p=0:p>d&&(d=0),a=a*u+d,o=o*u+p,i.push(a),s.push(o);return[2,[i,s]]}))}))()}},{key:"dpo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o;return xn(this,(function(c){for(r=t/2+1,i=[],s=1/t,u=0,a=0;a<t;++a)u+=e[a];for(i.push(e[t-1-r]-u*s),o=t;o<n;++o)u+=e[o],u-=e[o-t],i.push(e[o-r]-u*s);return[2,i]}))}))()}},{key:"dx",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g;return xn(this,(function(y){for(i=[],s=(n-1)/n,u=0,a=0,o=1;o<n;++o)c=e[o]-e[o-1],l=t[o-1]-t[o],c<0?c=0:c>l&&(l=0),l<0?l=0:l>c&&(c=0),u+=c,a+=l;for(h=u,f=a,d=Math.abs(h-f),p=d/(h+f)*100,i.push(p),v=n;v<r;++v)m=e[v]-e[v-1],g=t[v-1]-t[v],m<0?m=0:m>g&&(g=0),g<0?g=0:g>m&&(m=0),h=u=u*s+m,f=a=a*s+g,d=Math.abs(h-f),p=d/(h+f)*100,i.push(p);return[2,i]}))}))()}},{key:"edecay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u;return xn(this,(function(a){for(i=1-1/t,(r=[]).push(e[0]),s=1;s<n;++s)u=r[r.length-1]*i,r.push(e[s]>u?e[s]:u);return[2,r]}))}))()}},{key:"ema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u;return xn(this,(function(a){for(r=[],i=2/(t+1),s=e[0],r.push(s),u=1;u<n;++u)s=(e[u]-s)*i+s,r.push(s);return[2,r]}))}))()}},{key:"emv",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o;return xn(this,(function(c){for(i=[],s=.5*(e[0]+t[0]),u=1;u<r;++u)a=.5*(e[u]+t[u]),o=n[u]/1e4/(e[u]-t[u]),i.push((a-s)/o),s=a;return[2,i]}))}))()}},{key:"fisher",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m;return xn(this,(function(g){for(i=[],s=[],u=0,a=-1,o=-1,c=.5*(e[0]+t[0]),l=.5*(e[0]+t[0]),h=0,d=0,v=n-1;v<r;++v,++u){if(f=.5*(e[v]+t[v]),a<u)for(c=.5*(e[a=u]+t[a]),p=u;++p<=v;)(f=.5*(e[p]+t[p]))>=c&&(c=f,a=p);else f>=c&&(a=v,c=f);if(f=.5*(e[v]+t[v]),o<u)for(l=.5*(e[o=u]+t[o]),p=u;++p<=v;)(f=.5*(e[p]+t[p]))<=l&&(l=f,o=p);else f<=l&&(o=v,l=f);0==(m=c-l)&&(m=.001),(h=.66*((.5*(e[v]+t[v])-l)/m-.5)+.67*h)>.99&&(h=.999),h<-.99&&(h=-.999),s.push(d),d=.5*Math.log((1+h)/(1-h))+.5*d,i.push(d)}return[2,[i,s]]}))}))()}},{key:"fosc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d,p;return xn(this,(function(v){for(r=[],i=0,s=0,u=0,a=0,o=1/t,c=0,l=0;l<t-1;++l)i+=l+1,s+=(l+1)*(l+1),a+=e[l]*(l+1),u+=e[l];for(h=1/(t*(s+=t*t)-(i+=t)*i),f=t-1;f<n;++f)a+=e[f]*t,u+=e[f],p=(u-(d=(t*a-i*u)*h)*i)*o,f>=t&&r.push(100*(e[f]-c)/e[f]),c=p+d*(t+1),a-=u,u-=e[f-t+1];return[2,r]}))}))()}},{key:"hma",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v,m,g;return xn(this,(function(y){for(r=[],i=Math.floor(t/2),s=Math.floor(Math.sqrt(t)),u=t*(t+1)/2,a=i*(i+1)/2,o=s*(s+1)/2,c=0,l=0,h=0,f=0,d=0,p=0,v=0;v<t-1;++v)l+=e[v]*(v+1),c+=e[v],v>=t-i&&(f+=e[v]*(v+1-(t-i)),h+=e[v]);for(m=new dn(s),v=t-1;v<n;++v)l+=e[v]*t,c+=e[v],f+=e[v]*i,h+=e[v],p+=(g=f/a*2-l/u)*s,d+=g,m.qpush(g),v>=t-1+(s-1)?(r.push(p/o),p-=d,d-=m.get(1)):p-=d,l-=c,c-=e[v-t+1],f-=h,h-=e[v-i+1];return[2,r]}))}))()}},{key:"kama",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c;return xn(this,(function(l){for(r=[],i=0,s=1;s<t;++s)i+=Math.abs(e[s]-e[s-1]);for(u=e[t-1],r.push(u),c=t;c<n;++c)i+=Math.abs(e[c]-e[c-1]),c>t&&(i-=Math.abs(e[c-t]-e[c-t-1])),a=0!=i?Math.abs(e[c]-e[c-t])/i:1,o=Math.pow(.6021505376344085*a+.06451612903225806,2),u+=o*(e[c]-u),r.push(u);return[2,r]}))}))()}},{key:"kvo",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return mn((function(){var a,o,c,l,h,f,d,p,v,m,g,y;return xn(this,(function(x){for(a=2/(i+1),o=2/(s+1),c=[],l=0,h=e[0]+t[0]+n[0],f=-1,d=0,p=0,v=1;v<u;++v)m=e[v]+t[v]+n[v],g=e[v]-t[v],m>h&&1!=f?(f=1,l=e[v-1]-t[v-1]):m<h&&0!=f&&(f=0,l=e[v-1]-t[v-1]),l+=g,y=r[v]*Math.abs(g/l*2-1)*100*(f?1:-1),1==v?(d=y,p=y):(d=(y-d)*a+d,p=(y-p)*o+p),c.push(d-p),h=m;return[2,c]}))}))()}},{key:"lag",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i;return xn(this,(function(s){for(r=[],i=t;i<n;++i)r.push(e[i-t]);return[2,r]}))}))()}},{key:"linreg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d;return xn(this,(function(p){for(r=[],i=0,s=0,u=0,a=0,o=1/t,c=0;c<t-1;++c)i+=c+1,s+=(c+1)*(c+1),a+=e[c]*(c+1),u+=e[c];for(l=1/(t*(s+=t*t)-(i+=t)*i),h=t-1;h<n;++h)a+=e[h]*t,u+=e[h],d=(u-(f=(t*a-i*u)*l)*i)*o,r.push(d+f*t),a-=u,u-=e[h-t+1];return[2,r]}))}))()}},{key:"linregintercept",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d;return xn(this,(function(p){for(r=[],i=0,s=0,u=0,a=0,o=1/t,c=0;c<t-1;++c)i+=c+1,s+=(c+1)*(c+1),a+=e[c]*(c+1),u+=e[c];for(l=1/(t*(s+=t*t)-(i+=t)*i),h=t-1;h<n;++h)a+=e[h]*t,u+=e[h],d=(u-(f=(t*a-i*u)*l)*i)*o,r.push(d+1*f),a-=u,u-=e[h-t+1];return[2,r]}))}))()}},{key:"linregslope",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h;return xn(this,(function(f){for(r=[],i=0,s=0,u=0,a=0,o=0;o<t-1;++o)i+=o+1,s+=(o+1)*(o+1),a+=e[o]*(o+1),u+=e[o];for(c=1/(t*(s+=t*t)-(i+=t)*i),l=t-1;l<n;++l)a+=e[l]*t,u+=e[l],h=(t*a-i*u)*c,r.push(h),a-=u,u-=e[l-t+1];return[2,r]}))}))()}},{key:"macd",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v;return xn(this,(function(m){for(s=[],u=[],a=[],o=2/(t+1),c=2/(n+1),l=2/(r+1),12==t&&26==n&&(o=.15,c=.075),h=e[0],f=e[0],d=0,p=1;p<i;++p)h=(e[p]-h)*o+h,f=(e[p]-f)*c+f,v=h-f,p==n-1&&(d=v),p>=n-1&&(d=(v-d)*l+d,s.push(v),u.push(d),a.push(v-d));return[2,[s,u,a]]}))}))()}},{key:"marketfi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s;return xn(this,(function(u){for(i=[],s=0;s<r;++s)i.push((e[s]-t[s])/n[s]);return[2,i]}))}))()}},{key:"mass",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c;return xn(this,(function(l){for(i=[],s=e[0]-t[0],u=s,a={index:0,pushes:0,size:n,sum:0,vals:[]},o=0;o<r;++o)c=e[o]-t[o],s=.8*s+.2*c,8==o&&(u=s),o>=8&&(u=.8*u+.2*s,o>=16&&(a.pushes>=a.size&&(a.sum-=a.vals[a.index]),a.sum+=s/u,a.vals[a.index]=s/u,a.pushes+=1,a.index=a.index+1,a.index>=a.size&&(a.index=0),o>=16+n-1&&i.push(a.sum)));return[2,i]}))}))()}},{key:"max",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c;return xn(this,(function(l){for(r=[],i=0,s=-1,u=e[0],o=t-1;o<n;++o,++i){if(c=e[o],s<i)for(u=e[s=i],a=i;++a<=o;)(c=e[a])>=u&&(u=c,s=a);else c>=u&&(s=o,u=c);r.push(u)}return[2,r]}))}))()}},{key:"md",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l;return xn(this,(function(h){for(r=[],i=1/t,s=0,a=0;a<n;++a)if(o=e[a],s+=o,a>=t&&(s-=e[a-t]),c=s*i,a>=t-1){for(l=0,u=0;u<t;++u)l+=Math.abs(c-e[a-u]);r.push(l*i)}return[2,r]}))}))()}},{key:"medprice",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i;return xn(this,(function(s){for(r=[],i=0;i<n;++i)r.push(.5*(e[i]+t[i]));return[2,r]}))}))()}},{key:"mfi",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return mn((function(){var u,a,o,c,l,h,f;return xn(this,(function(d){for(u=[],a=(e[0]+t[0]+n[0])*(1/3),o={size:i,index:0,pushes:0,sum:0,vals:[]},c={size:i,index:0,pushes:0,sum:0,vals:[]},l=1;l<s;++l)h=(e[l]+t[l]+n[l])*(1/3),f=h*r[l],h>a?(o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=f,o.vals[o.index]=f,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=0,c.vals[c.index]=0,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0)):h<a?(c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=f,c.vals[c.index]=f,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=0,o.vals[o.index]=0,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0)):(o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=0,o.vals[o.index]=0,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=0,c.vals[c.index]=0,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0)),a=h,l>=i&&u.push(o.sum/(o.sum+c.sum)*100);return[2,u]}))}))()}},{key:"min",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c;return xn(this,(function(l){for(r=[],i=0,s=-1,u=e[0],o=t-1;o<n;++o,++i){if(c=e[o],s<i)for(u=e[s=i],a=i;++a<=o;)(c=e[a])<=u&&(u=c,s=a);else c<=u&&(s=o,u=c);r.push(u)}return[2,r]}))}))()}},{key:"mom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i;return xn(this,(function(s){for(r=[],i=t;i<n;++i)r.push(e[i]-e[i-t]);return[2,r]}))}))()}},{key:"msw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f;return xn(this,(function(d){for(r=[],i=[],u=2*(s=3.1415926),a=0,f=t;f<n;++f){for(c=0,l=0,h=0;h<t;++h)a=e[f-h],c+=Math.cos(u*h/t)*a,l+=Math.sin(u*h/t)*a;o=Math.abs(c)>.001?Math.atan(l/c):u/2*(l<0?-1:1),c<0&&(o+=s),(o+=s/2)<0&&(o+=u),o>u&&(o-=u),r.push(Math.sin(o)),i.push(Math.sin(o+s/4))}return[2,[r,i]]}))}))()}},{key:"natr",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_;return xn(this,(function(k){for(s=[],u=1/r,a=0,a+=e[0]-t[0],o=1;o<r;++o)c=t[o],l=e[o],h=n[o-1],f=Math.abs(l-h),d=Math.abs(c-h),f>(p=l-c)&&(p=f),d>p&&(p=d),a+=p;for(v=a/r,s.push(100*v/n[r-1]),m=r;m<i;++m)g=t[m],y=e[m],x=n[m-1],w=Math.abs(y-x),b=Math.abs(g-x),w>(_=y-g)&&(_=w),b>_&&(_=b),v=(_-v)*u+v,s.push(100*v/n[m]);return[2,s]}))}))()}},{key:"nvi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s;return xn(this,(function(u){for((r=[]).push(i=1e3),s=1;s<n;++s)t[s]<t[s-1]&&(i+=(e[s]-e[s-1])/e[s-1]*i),r.push(i);return[2,r]}))}))()}},{key:"obv",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u;return xn(this,(function(a){for((r=[]).push(i=0),s=e[0],u=1;u<n;++u)e[u]>s?i+=t[u]:e[u]<s&&(i-=t[u]),s=e[u],r.push(i);return[2,r]}))}))()}},{key:"ppo",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l;return xn(this,(function(h){for(i=[],s=2/(t+1),u=2/(n+1),a=e[0],o=e[0],c=1;c<r;++c)a=(e[c]-a)*s+a,o=(e[c]-o)*u+o,l=100*(a-o)/o,i.push(l);return[2,i]}))}))()}},{key:"psar",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l;return xn(this,(function(h){for(s=[],(u=e[0]+t[0]<=e[1]+t[1]?1:0)?(o=e[0],a=t[0]):(o=t[0],a=e[0]),c=n,l=1;l<i;++l)a=(o-a)*c+a,u?(l>=2&&a>t[l-2]&&(a=t[l-2]),a>t[l-1]&&(a=t[l-1]),c<r&&e[l]>o&&(c+=n)>r&&(c=r),e[l]>o&&(o=e[l])):(l>=2&&a<e[l-2]&&(a=e[l-2]),a<e[l-1]&&(a=e[l-1]),c<r&&t[l]<o&&(c+=n)>r&&(c=r),t[l]<o&&(o=t[l])),(u&&t[l]<a||!u&&e[l]>a)&&(c=n,a=o,o=(u=!u)?e[l]:t[l]),s.push(a);return[2,s]}))}))()}},{key:"pvi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s;return xn(this,(function(u){for((r=[]).push(i=1e3),s=1;s<n;++s)t[s]>t[s-1]&&(i+=(e[s]-e[s-1])/e[s-1]*i),r.push(i);return[2,r]}))}))()}},{key:"roc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i;return xn(this,(function(s){for(r=[],i=t;i<n;++i)r.push((e[i]-e[i-t])/e[i-t]);return[2,r]}))}))()}},{key:"rocr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i;return xn(this,(function(s){for(r=[],i=t;i<n;++i)r.push(e[i]/e[i-t]);return[2,r]}))}))()}},{key:"rsi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f;return xn(this,(function(d){for(r=[],i=1/t,s=0,u=0,a=1;a<=t;++a)o=e[a]>e[a-1]?e[a]-e[a-1]:0,c=e[a]<e[a-1]?e[a-1]-e[a]:0,s+=o,u+=c;for(s/=t,u/=t,r.push(s/(s+u)*100),l=t+1;l<n;++l)h=e[l]>e[l-1]?e[l]-e[l-1]:0,f=e[l]<e[l-1]?e[l-1]-e[l]:0,s=(h-s)*i+s,u=(f-u)*i+u,r.push(s/(s+u)*100);return[2,r]}))}))()}},{key:"sma",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a;return xn(this,(function(o){for(r=[],i=1/t,s=0,u=0;u<t;++u)s+=e[u];for(r.push(s*i),a=t;a<n;++a)s+=e[a],s-=e[a-t],r.push(s*i);return[2,r]}))}))()}},{key:"stddev",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l;return xn(this,(function(h){for(r=[],i=1/t,s=0,u=0,a=0;a<t;++a)s+=e[a],u+=e[a]*e[a];for((o=u*i-s*i*(s*i))>0&&(o=Math.sqrt(o)),r.push(o),c=t;c<n;++c)s+=e[c],u+=e[c]*e[c],s-=e[c-t],u-=e[c-t]*e[c-t],(l=u*i-s*i*(s*i))>0&&(l=Math.sqrt(l)),r.push(l);return[2,r]}))}))()}},{key:"stderr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h;return xn(this,(function(f){for(r=[],i=1/t,s=0,u=0,a=1/Math.sqrt(t),o=0;o<t;++o)s+=e[o],u+=e[o]*e[o];for((c=u*i-s*i*(s*i))>0&&(c=Math.sqrt(c)),r.push(a*c),l=t;l<n;++l)s+=e[l],u+=e[l]*e[l],s-=e[l-t],u-=e[l-t]*e[l-t],(h=u*i-s*i*(s*i))>0&&(h=Math.sqrt(h)),r.push(a*h);return[2,r]}))}))()}},{key:"stoch",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return mn((function(){var a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k;return xn(this,(function(N){for(a=1/i,o=1/s,c=[],l=[],h=0,f=-1,d=-1,p=e[0],v=t[0],g={size:i,index:0,pushes:0,sum:0,vals:[]},y={size:s,index:0,pushes:0,sum:0,vals:[]},w=0;w<u;++w){if(w>=r&&++h,m=e[w],f<h)for(p=e[f=h],x=h;++x<=w;)(m=e[x])>=p&&(p=m,f=x);else m>=p&&(f=w,p=m);if(m=t[w],d<h)for(v=t[d=h],x=h;++x<=w;)(m=t[x])<=v&&(v=m,d=x);else m<=v&&(d=w,v=m);_=0==(b=p-v)?0:(n[w]-v)/b*100,g.pushes>=g.size&&(g.sum-=g.vals[g.index]),g.sum+=_,g.vals[g.index]=_,g.pushes+=1,g.index=g.index+1,g.index>=g.size&&(g.index=0),w>=r-1+i-1&&(k=g.sum*a,y.pushes>=y.size&&(y.sum-=y.vals[y.index]),y.sum+=k,y.vals[y.index]=k,y.pushes+=1,y.index=y.index+1,y.index>=y.size&&(y.index=0),w>=r-1+i-1+s-1&&(c.push(k),l.push(y.sum*o)))}return[2,[c,l]]}))}))()}},{key:"stochrsi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b;return xn(this,(function(_){for(r=[],i=1/t,s={size:t,index:0,pushes:0,sum:0,vals:[]},u=0,a=0,o=1;o<=t;++o)c=e[o]>e[o-1]?e[o]-e[o-1]:0,l=e[o]<e[o-1]?e[o-1]-e[o]:0,u+=c,a+=l;for(h=(u/=t)/(u+(a/=t))*100,s.pushes>=s.size&&(s.sum-=s.vals[s.index]),s.sum+=h,s.vals[s.index]=h,s.pushes+=1,s.index=s.index+1,s.index>=s.size&&(s.index=0),f=h,d=h,p=0,v=0,m=t+1;m<n;++m){if(g=e[m]>e[m-1]?e[m]-e[m-1]:0,y=e[m]<e[m-1]?e[m-1]-e[m]:0,(h=(u=(g-u)*i+u)/(u+(a=(y-a)*i+a))*100)>d)d=h,v=s.index;else if(v==s.index)for(d=h,x=0;x<s.size;++x)x!=s.index&&s.vals[x]>d&&(d=s.vals[x],v=x);if(h<f)f=h,p=s.index;else if(p==s.index)for(f=h,w=0;w<s.size;++w)w!=s.index&&s.vals[w]<f&&(f=s.vals[w],p=w);s.vals[s.index]=h,s.index=s.index+1,s.index>=s.size&&(s.index=0),m>2*t-2&&(0==(b=d-f)?r.push(0):r.push((h-f)/b))}return[2,r]}))}))()}},{key:"sum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u;return xn(this,(function(a){for(r=[],i=0,s=0;s<t;++s)i+=e[s];for(r.push(i),u=t;u<n;++u)i+=e[u],i-=e[u-t],r.push(i);return[2,r]}))}))()}},{key:"tema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c;return xn(this,(function(l){for(r=[],s=1-(i=2/(t+1)),u=e[0],a=0,o=0,c=0;c<n;++c)u=u*s+e[c]*i,c==t-1&&(a=u),c>=t-1&&(a=a*s+u*i,c==2*(t-1)&&(o=a),c>=2*(t-1)&&(o=o*s+a*i,c>=3*(t-1)&&r.push(3*u-3*a+o)));return[2,r]}))}))()}},{key:"tr",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f;return xn(this,(function(d){for((i=[])[0]=e[0]-t[0],u=1;u<r;++u)a=t[u],o=e[u],c=n[u-1],l=Math.abs(o-c),h=Math.abs(a-c),l>(f=o-a)&&(f=l),h>f&&(f=h),s=f,i.push(s);return[2,i]}))}))()}},{key:"trima",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v;return xn(this,(function(m){for(r=[],i=1/(t%2?(t/2+1)*(t/2+1):t/2*(t/2+1)),s=0,u=0,a=0,c=1+(o=t%2?t/2:t/2-1),l=1,h=0;h<t-1;++h)s+=e[h]*l,h+1>t-o&&(u+=e[h]),h+1<=c&&(a+=e[h]),h+1<c&&++l,h+1>=t-o&&--l;for(f=t-1-o+1,d=t-1-t+1+c,p=t-1-t+1,v=t-1;v<n;++v)s+=e[v],r.push(s*i),u+=e[v],s+=u,s-=a,u-=e[f++],a+=e[d++],a-=e[p++];return[2,r]}))}))()}},{key:"trix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h;return xn(this,(function(f){for(r=[],i=3*t-2,s=2/(t+1),u=e[0],a=0,o=0,c=1;c<i;++c)u=(e[c]-u)*s+u,c==t-1?a=u:c>t-1&&(a=(u-a)*s+a,c==2*t-2?o=a:c>2*t-2&&(o=(a-o)*s+o));for(l=i;l<n;++l)u=(e[l]-u)*s+u,h=o,o=((a=(u-a)*s+a)-o)*s+o,r.push((o-h)/o*100);return[2,r]}))}))()}},{key:"tsf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d;return xn(this,(function(p){for(r=[],i=0,s=0,u=0,a=0,o=1/t,c=0;c<t-1;++c)i+=c+1,s+=(c+1)*(c+1),a+=e[c]*(c+1),u+=e[c];for(l=1/(t*(s+=t*t)-(i+=t)*i),h=t-1;h<n;++h)a+=e[h]*t,u+=e[h],d=(u-(f=(t*a-i*u)*l)*i)*o,r.push(d+f*(t+1)),a-=u,u-=e[h-t+1];return[2,r]}))}))()}},{key:"typprice",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s;return xn(this,(function(u){for(i=[],s=0;s<r;++s)i.push((e[s]+t[s]+n[s])*(1/3));return[2,i]}))}))()}},{key:"ultosc",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return mn((function(){var a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N;return xn(this,(function(S){for(a=[],o={size:s,index:0,pushes:0,sum:0,vals:[]},c={size:s,index:0,pushes:0,sum:0,vals:[]},l=0,h=0,f=0,d=0,p=1;p<u;++p)v=t[p]<n[p-1]?t[p]:n[p-1],m=e[p]>n[p-1]?e[p]:n[p-1],g=n[p]-v,l+=g,h+=g,f+=y=m-v,d+=y,o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=g,o.vals[o.index]=g,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=y,c.vals[c.index]=y,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),p>r&&((x=o.index-r-1)<0&&(x+=s),l-=o.vals[x],f-=c.vals[x],p>i&&((w=o.index-i-1)<0&&(w+=s),h-=o.vals[w],d-=c.vals[w])),p>=s&&(b=4*l/f,_=2*h/d,k=1*o.sum/c.sum,N=100*(b+_+k)/7,a.push(N));return[2,a]}))}))()}},{key:"var",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o;return xn(this,(function(c){for(r=[],i=1/t,s=0,u=0,a=0;a<t;++a)s+=e[a],u+=e[a]*e[a];for(r.push(u*i-s*i*(s*i)),o=t;o<n;++o)s+=e[o],u+=e[o]*e[o],s-=e[o-t],u-=e[o-t]*e[o-t],r.push(u*i-s*i*(s*i));return[2,r]}))}))()}},{key:"vhf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v;return xn(this,(function(m){for(r=[],i=1,s=-1,u=-1,a=e[0],o=e[0],l=0,h=e[0],p=1;p<t;++p)f=e[p],l+=Math.abs(f-h),h=f;for(v=t;v<n;++v,++i){if(f=e[v],l+=Math.abs(f-h),h=f,v>t&&(l-=Math.abs(e[v-t]-e[v-t-1])),c=f,s<i)for(a=e[s=i],d=i;++d<=v;)(c=e[d])>=a&&(a=c,s=d);else c>=a&&(s=v,a=c);if(c=f,u<i)for(o=e[u=i],d=i;++d<=v;)(c=e[d])<=o&&(o=c,u=d);else c<=o&&(u=v,o=c);r.push(Math.abs(a-o)/l)}return[2,r]}))}))()}},{key:"vidya",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w;return xn(this,(function(b){for(s=[],u=1/t,a=1/n,o=0,c=0,l=0,h=0,f=0;f<n;++f)l+=e[f],h+=e[f]*e[f],f>=n-t&&(o+=e[f],c+=e[f]*e[f]);for(d=e[n-2],s.push(d),n-1<i&&(p=Math.sqrt(c*u-o*u*(o*u)),v=Math.sqrt(h*a-l*a*(l*a)),(m=p/v)!=m&&(m=0),m*=r,d=(e[n-1]-d)*m+d,s.push(d)),g=n;g<i;++g)l+=e[g],h+=e[g]*e[g],o+=e[g],c+=e[g]*e[g],l-=e[g-n],h-=e[g-n]*e[g-n],o-=e[g-t],c-=e[g-t]*e[g-t],y=Math.sqrt(c*u-o*u*(o*u)),x=Math.sqrt(h*a-l*a*(l*a)),(w=y/x)!=w&&(w=0),w*=r,d=(e[g]-d)*w+d,s.push(d);return[2,s]}))}))()}},{key:"volatility",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c,l,h,f;return xn(this,(function(d){for(r=[],i=1/t,s=Math.sqrt(252),u=0,a=0,o=1;o<=t;++o)c=e[o]/e[o-1]-1,u+=c,a+=c*c;for(r.push(Math.sqrt(a*i-u*i*(u*i))*s),l=t+1;l<n;++l)h=e[l]/e[l-1]-1,u+=h,a+=h*h,f=e[l-t]/e[l-t-1]-1,u-=f,a-=f*f,r.push(Math.sqrt(a*i-u*i*(u*i))*s);return[2,r]}))}))()}},{key:"vosc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p;return xn(this,(function(v){for(i=[],s=1/t,u=1/n,a=0,o=0,c=0;c<n;++c)c>=n-t&&(a+=e[c]),o+=e[c];for(l=a*s,h=o*u,i.push(100*(l-h)/h),f=n;f<r;++f)a+=e[f],a-=e[f-t],o+=e[f],o-=e[f-n],d=a*s,p=o*u,i.push(100*(d-p)/p);return[2,i]}))}))()}},{key:"vwma",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o;return xn(this,(function(c){for(i=[],s=0,u=0,a=0;a<n;++a)s+=e[a]*t[a],u+=t[a];for(i.push(s/u),o=n;o<r;++o)s+=e[o]*t[o],s-=e[o-n]*t[o-n],u+=t[o],u-=t[o-n],i.push(s/u);return[2,i]}))}))()}},{key:"wad",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o;return xn(this,(function(c){for(i=[],s=0,u=n[0],a=1;a<r;++a)(o=n[a])>u?s+=o-(u<t[a]?u:t[a]):o<u&&(s+=o-(u>e[a]?u:e[a])),i.push(s),u=n[a];return[2,i]}))}))()}},{key:"wcprice",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s;return xn(this,(function(u){for(i=[],s=0;s<r;++s)i.push(.25*(e[s]+t[s]+n[s]+n[s]));return[2,i]}))}))()}},{key:"wilders",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o;return xn(this,(function(c){for(r=[],i=1/t,s=0,u=0;u<t;++u)s+=e[u];for(a=s/t,r.push(a),o=t;o<n;++o)a=(e[o]-a)*i+a,r.push(a);return[2,r]}))}))()}},{key:"willr",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v;return xn(this,(function(m){for(s=[],u=0,a=-1,o=-1,c=e[0],l=t[0],d=r-1;d<i;++d,++u){if(h=e[d],a<u)for(c=e[a=u],f=u;++f<=d;)(h=e[f])>=c&&(c=h,a=f);else h>=c&&(a=d,c=h);if(h=t[d],o<u)for(l=t[o=u],f=u;++f<=d;)(h=t[f])<=l&&(l=h,o=f);else h<=l&&(o=d,l=h);v=0==(p=c-l)?0:(c-n[d])/p*-100,s.push(v)}return[2,s]}))}))()}},{key:"wma",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o;return xn(this,(function(c){for(r=[],i=t*(t+1)/2,s=0,u=0,a=0;a<t-1;++a)u+=e[a]*(a+1),s+=e[a];for(o=t-1;o<n;++o)u+=e[o]*t,s+=e[o],r.push(u/i),u-=s,s-=e[o-t+1];return[2,r]}))}))()}},{key:"zlema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return mn((function(){var r,i,s,u,a,o,c;return xn(this,(function(l){for(r=Math.floor((t-1)/2),i=[],s=2/(t+1),u=e[r-1],i.push(u),a=r;a<n;++a)o=e[a],c=e[a-r],u=(o+(o-c)-u)*s+u,i.push(u);return[2,i]}))}))()}},{key:"abands",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x;return xn(this,(function(w){for(s=[],u=[],a=[],o=1/r,c={size:r,index:0,pushes:0,sum:0,vals:[]},l={size:r,index:0,pushes:0,sum:0,vals:[]},h=0,f=0;f<r;++f)d=4*(e[f]-t[f])/(e[f]+t[f]),p=(1+d)*e[f],c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=p,c.vals[c.index]=p,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),v=(1-d)*t[f],l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=v,l.vals[l.index]=v,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),h+=n[f];for(s.push(c.sum*o),u.push(l.sum*o),a.push(h*o),m=r;m<i;++m)g=4*(e[m]-t[m])/(e[m]+t[m]),y=(1+g)*e[m],c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=y,c.vals[c.index]=y,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),x=(1-g)*t[m],l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=x,l.vals[l.index]=x,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),h+=n[m]-n[m-r],s.push(c.sum*o),u.push(l.sum*o),a.push(h*o);return[2,[s,u,a]]}))}))()}},{key:"alma",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p;return xn(this,(function(v){for(s=[],u=[],a=Math.floor(n*(t-1)),o=t/r,c=0,l=0;l<t;l++)u[l]=Math.exp(-1*Math.pow(l-a,2)/(2*Math.pow(o,2))),c+=u[l];for(h=0;h<t;h++)u[h]/=c;for(f=t-1;f<i;f++){for(d=0,p=0;p<t;p++)d+=e[f-t+p+1]*u[p];s.push(d)}return[2,s]}))}))()}},{key:"ce",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return mn((function(){var u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S,M,O,Z,T,E,A;return xn(this,(function(z){for(u=[],a=[],o=e[0]-t[0],l=e[0],h=0,f=t[0],d=0,p=1;p<r;++p)v=t[p],m=e[p],g=n[p-1],y=Math.abs(m-g),x=Math.abs(v-g),y>(w=m-v)&&(w=y),x>w&&(w=x),o+=w,l<=(c=e[p])&&(l=c,h=p),f>=(c=t[p])&&(f=c,d=p);for(o/=r,b=(r-1)/r,_=1/r,u.push(l-i*o),a.push(f+i*o),k=r;k<s;++k){if(N=t[k],S=e[k],M=n[k-1],O=Math.abs(S-M),Z=Math.abs(N-M),O>(T=S-N)&&(T=O),Z>T&&(T=Z),o=o*b+T*_,l<=(c=e[k]))l=c,h=k;else if(h==k-r)for(l=e[k-r+1],h=k-r+1,E=k-r+2;E<=k;++E)l<=(c=e[E])&&(l=c,h=E);if(f>=(c=t[k]))f=c,d=k;else if(d==k-r)for(f=t[k-r+1],d=k-r+1,A=k-r+2;A<=k;++A)f>=(c=t[A])&&(f=c,d=A);u.push(l-i*o),a.push(f+i*o)}return[2,[u,a]]}))}))()}},{key:"cmf",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return mn((function(){var u,a,o,c,l;return xn(this,(function(h){for(u=[],a=0,o=0,c=0;c<i-1;++c)o+=e[c]-t[c]?r[c]*(n[c]-t[c]-(e[c]-n[c]))/(e[c]-t[c]):0,a+=r[c];for(l=i-1;l<s;++l)o+=e[l]-t[l]?r[l]*(n[l]-t[l]-(e[l]-n[l]))/(e[l]-t[l]):0,a+=r[l],u.push(o/a),o-=e[l-i+1]-t[l-i+1]?r[l-i+1]*(n[l-i+1]-t[l-i+1]-(e[l-i+1]-n[l-i+1]))/(e[l-i+1]-t[l-i+1]):0,a-=r[l-i+1];return[2,u]}))}))()}},{key:"copp",value:function(e,t,n){return mn((function(){var r,i,s,u;return xn(this,(function(a){for(r=new Array(e.length),i=new Array(e.length),s=new Array(e.length),u=0;u<e.length;u++)r[u]=u<t-1?null:(e[u]-e[u-t])/e[u-t]*100,i[u]=u<n-1?null:(e[u]-e[u-n])/e[u-n]*100,s[u]=10*(r[u]+i[u]);return[2,s]}))}))()}},{key:"dc",value:function(e,t,n){return mn((function(){var r,i,s,u,a,o;return xn(this,(function(c){for(r=[],i=[],s=[],u=n-1;u<e.length;u++)r.push((a=Math).max.apply(a,yn(e.slice(u-n+1,u+1)))),i.push((o=Math).min.apply(o,yn(t.slice(u-n+1,u+1)))),s.push((r[r.length-1]+i[i.length-1])/2);return[2,[r,s,i]]}))}))()}},{key:"fi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a;return xn(this,(function(o){for(i=[],s=2/(n+1),u=t[1]*(e[1]-e[0]),a=1;a<r;++a)u=(t[a]*(e[a]-e[a-1])-u)*s+u,i.push(u);return[2,i]}))}))()}},{key:"ikhts",value:function(){return mn((function(){return xn(this,(function(e){return[2]}))}))()}},{key:"kc",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return mn((function(){var u,a,o,c,l,h,f,d,p,v,m,g,y;return xn(this,(function(x){for(u=[],a=[],o=[],c=2/(r+1),l=n[0],h=e[0]-t[0],u.push(l-i*h),a.push(l),o.push(l+i*h),f=1;f<s;++f)l=(n[f]-l)*c+l,d=t[f],p=e[f],v=n[f-1],m=Math.abs(p-v),g=Math.abs(d-v),m>(y=p-d)&&(y=m),g>y&&(y=g),h=(y-h)*c+h,u.push(l-i*h),a.push(l),o.push(l+i*h);return[2,[u,a,o]]}))}))()}},{key:"kst",value:function(e,t,n,r,i,s,u,a,o){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:e.length;return mn((function(){var l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S,M,O;function Z(t,n){return(e[t]-e[t-n])/e[t-n]}return xn(this,(function(e){for(l=[],h=[],(f=s)<u&&(f=u),f<a&&(f=a),f<o&&(f=o),d=2/(s+1),p=2/(u+1),v=2/(a+1),m=2/(o+1),g=Z(t,t),y=Z(n,n),x=Z(r,r),w=Z(i,i),b=t+1;b<i+1&&b<c;++b)g=(Z(b,t)-g)*d+g;for(_=n+1;_<i+1&&_<c;++_)y=(Z(_,n)-y)*p+y;for(k=r+1;k<i+1&&k<c;++k)x=(Z(k,r)-x)*v+x;for(N=i+1;N<i+1&&N<c;++N)w=(Z(N,i)-w)*m+w;for(S=(1*g+2*y+3*x+4*w)/10,h.push(S),M=S,l.push(M),O=i+1;O<c;++O)g=(Z(O,t)-g)*d+g,y=(Z(O,n)-y)*p+y,x=(Z(O,r)-x)*v+x,w=(Z(O,i)-w)*m+w,S=(1*g+2*y+3*x+4*w)/10,l.push(S),M=.2*(S-M)+M,h.push(M);return[2,[l,h]]}))}))()}},{key:"mama",value:function(){return mn((function(){return xn(this,(function(e){return[2]}))}))()}},{key:"pbands",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return mn((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b;return xn(this,(function(_){for(s=[],u=[],a=0,o=0,c=r*(r+1)/2,l=r*(r+1)*(2*r+1)/6,h=0;h<r;++h)o+=n[h]*(h+1),a+=n[h];for(--h,f=(o/r-c/r*a/r)/(l/r-c/r*(c/r)),d=e[h],p=1;p<r;++p)d<e[h-p]+p*f&&(d=e[h-p]+p*f);for(v=t[h],m=1;m<r;++m)v>t[h-m]+m*f&&(v=t[h-m]+m*f);for(u.push(d),s.push(v),++h;h<i;++h){for(o+=-a+n[h]*r,a+=-n[h-r]+n[h],g=(o/r-c/r*a/r)/(l/r-c/r*(c/r)),y=e[h],x=1;x<r;++x)y<e[h-x]+x*g&&(y=e[h-x]+x*g);for(w=t[h],b=1;b<r;++b)w>t[h-b]+b*g&&(w=t[h-b]+b*g);s.push(w),u.push(y)}return[2,[s,u]]}))}))()}},{key:"pc",value:function(){return mn((function(){return xn(this,(function(e){return[2]}))}))()}},{key:"pfe",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l;return xn(this,(function(h){for(i=[],s=2/(n+1),u={size:t,index:0,pushes:0,sum:0,vals:[]},a=1;a<t;++a)u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.vals[u.index]=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0);for(u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.vals[u.index]=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),o=100*(e[a]-e[a-t]>0?1:-1)*Math.sqrt(Math.pow(e[a]-e[a-t],2)+100),c=o/u.sum,i.push(c),a=t+1;a<r;++a)u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.vals[u.index]=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),l=100*(e[a]-e[a-t]>0?1:-1)*Math.sqrt(Math.pow(e[a]-e[a-t],2)+100),c=(l/u.sum-c)*s+c,i.push(c);return[2,i]}))}))()}},{key:"posc",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return mn((function(){var u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k;return xn(this,(function(N){for(u=[],a=0,o=0,l=r*(r+1)/2,h=r*(r+1)*(2*r+1)/6,f=0;f<r;++f)o+=n[f]*(f+1),a+=n[f];for(--f,d=(o/r-l/r*a/r)/(h/r-l/r*(l/r)),p=e[f],v=1;v<r;++v)p<e[f-v]+v*d&&(p=e[f-v]+v*d);for(m=t[f],g=1;g<r;++g)m>t[f-g]+g*d&&(m=t[f-g]+g*d);for(c=(n[f]-m)/(p-m)*100,u.push(c),++f;f<s;++f){for(o+=-a+n[f]*r,a+=-n[f-r]+n[f],y=(o/r-l/r*a/r)/(h/r-l/r*(l/r)),x=e[f],w=1;w<r;++w)x<e[f-w]+w*y&&(x=e[f-w]+w*y);for(b=t[f],_=1;_<r;++_)b>t[f-_]+_*y&&(b=t[f-_]+_*y);k=(n[f]-b)/(x-b)*100,c=2*(k-c)/(1+i)+c,u.push(c)}return[2,u]}))}))()}},{key:"rmi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a;return xn(this,(function(o){for(i=[],s=0>e[a=n]-e[a-n]?0:e[a]-e[a-n],u=0>e[a-n]-e[a]?0:e[a-n]-e[a],++a,i.push(s/(s+u)*100);a<r;++a)s=2*(0>e[a]-e[a-n]?0:e[a]-e[a-n]-s)/(1+t)+s,u=2*(0>e[a-n]-e[a]?0:e[a-n]-e[a]-u)/(1+t)+u,i.push(s/(s+u)*100);return[2,i]}))}))()}},{key:"rmta",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h;return xn(this,(function(f){for(i=[],u=(1-(s=1-n))*e[0]+e[0],a=(1-s)*e[0]+s*(e[0]+u),o=1;o<t-1;++o)c=(1-s)*u+e[o],a=(1-s)*a+s*(e[o]+c-u),u=c;for(l=t-1;l<r;++l)h=(1-s)*u+e[l],a=(1-s)*a+s*(e[l]+h-u),u=h,i.push(a);return[2,i]}))}))()}},{key:"rvi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g;return xn(this,(function(y){for(i=[],s=0,u=0,a=n*(n+1)/2,o=n*(n+1)*(2*n+1)/6,c=0,l=0,h=0;h<n;++h)u+=e[h]*(h+1),s+=e[h];for(--h,d=s/n-(f=(u/n-a/n*s/n)/(o/n-a/n*(a/n)))*a/n,(p=e[h]-(d+f*n))>0?c=p*p/n:l=p*p/n,c+l==0?i.push(50):i.push(c/(c+l)*100),++h;h<r;++h)u+=-s+e[h]*n,s+=-e[h-n]+e[h],m=s/n-(v=(u/n-a/n*s/n)/(o/n-a/n*(a/n)))*a/n,(g=e[h]-(m+v*n))>0?c=2*(g*g/n-c)/(t+1)+c:l=2*(g*g/n-l)/(t+1)+l,c+l==0?i.push(50):i.push(c/(c+l)*100);return[2,i]}))}))()}},{key:"smi",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return mn((function(){var a,o,c,l,h,f,d,p,v,m,g,y,x,w;return xn(this,(function(b){for(a=[],o=1-r,c=NaN,l=NaN,h=NaN,f=NaN,d=0,p=0,v=0,m=0,g=0,y=0;y<u&&o==1-r;++y,++o)p=e[y],v=o,d=t[y],m=o;for(;y<u&&o<0;++y,++o)p<=e[y]&&(p=e[y],v=o),d>=t[y]&&(d=t[y],m=o);for(;y<u&&0==o;++y,++o)p<=e[y]&&(p=e[y],v=o),d>=t[y]&&(d=t[y],m=o),c=l=n[y]-.5*(p+d),h=f=p-d,a.push(100*l/(.5*f));for(;y<u;++y,++o){if(v==o-r)for(p=e[y],v=o,x=1;x<r;++x)(g=e[y-x])>p&&(p=g,v=o-x);else p<=e[y]&&(p=e[y],v=o);if(m==o-r)for(d=t[y],m=o,w=1;w<r;++w)(g=t[y-w])<d&&(d=g,m=o-w);else d>=t[y]&&(d=t[y],m=o);c=(n[y]-.5*(p+d)-c)*(2/(1+i))+c,l=2/(1+s)*(c-l)+l,f=2/(1+s)*((h=2/(1+i)*(p-d-h)+h)-f)+f,a.push(100*l/(.5*f))}return[2,a]}))}))()}},{key:"tsi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return mn((function(){var i,s,u,a,o,c,l,h;return xn(this,(function(f){for(i=[],s=-1,u=0,a=0,o=0,c=0,l=0,h=0;h<r&&-1==s;++h,++s)u=e[h];for(;h<r&&0==s;++h,++s)o=a=e[h]-u,l=c=Math.abs(e[h]-u),i.push(100*(l?o/l:0)),u=e[h];for(;h<r;++h,++s)a=2*(e[h]-u-a)/(1+t)+a,c=2*(Math.abs(e[h]-u)-c)/(1+t)+c,o=2*(a-o)/(1+n)+o,l=2*(c-l)/(1+n)+l,i.push(100*(l?o/l:0)),u=e[h];return[2,i]}))}))()}},{key:"vwap",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return mn((function(){var u,a,o,c,l;return xn(this,(function(h){for(u=[],a=1-i,o=0,c=0,l=0;l<s&&a<1;++l,++a)o+=(e[l]+t[l]+n[l])/3*r[l],c+=r[l];for(l>0&&1==a&&u.push(o/c);l<s;++l,++a)o+=(e[l]+t[l]+n[l])/3*r[l]-(e[l-i]+t[l-i]+n[l-i])/3*r[l-i],c+=r[l]-r[l-i],u.push(o/c);return[2,u]}))}))()}}],fn&&gn(hn.prototype,fn);var Mn,On,Zn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"normalize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;return _n((function(){var r,i,s;return Sn(this,(function(u){for(r=e-t.length,i=[],s=0;s<r;++s)i.push(n);return[2,Nn(i).concat(Nn(t))]}))}))()}},{key:"ad",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.length;return _n((function(){var s,u,a,o;return Sn(this,(function(c){for(s=[],u=0,a=0;a<i;++a)0!=(o=e[a]-t[a])&&(u+=(n[a]-t[a]-e[a]+n[a])/o*r[a]),s[a]=u;return[2,s]}))}))()}},{key:"adosc",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.length;return _n((function(){var a,o,c,l,h,f,d,p,v;return Sn(this,(function(m){for(a=s-1,o=2/(i+1),c=2/(s+1),(l=[])[s-2]=NaN,h=0,f=0,d=0,p=0;p<u;++p)0!=(v=e[p]-t[p])&&(h+=(n[p]-t[p]-e[p]+n[p])/v*r[p]),0==p?(f=h,d=h):(f=(h-f)*o+f,d=(h-d)*c+d),p>=a&&l.push(f-d);return[2,l]}))}))()}},{key:"adx",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g,y,x;return Sn(this,(function(w){for((i=[])[2*(n-2)+1]=NaN,s=(n-1)/n,u=1/n,a=0,o=0,c=1;c<n;++c)l=e[c]-e[c-1],h=t[c-1]-t[c],l<0?l=0:l>h&&(h=0),h<0?h=0:h>l&&(l=0),a+=l,o+=h;for(f=0,d=a,p=o,v=Math.abs(d-p),f+=m=v/(d+p)*100,g=n;g<r;++g)y=e[g]-e[g-1],x=t[g-1]-t[g],y<0?y=0:y>x&&(x=0),x<0?x=0:x>y&&(y=0),d=a=a*s+y,p=o=o*s+x,v=Math.abs(d-p),m=v/(d+p)*100,g-n<n-2?f+=m:g-n==n-2?(f+=m,i.push(f*u)):(f=f*s+m,i.push(f*u));return[2,i]}))}))()}},{key:"adxr",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S;return Sn(this,(function(M){for((i=[])[3*(n-1)-1]=NaN,s=(n-1)/n,u=1/n,a=0,o=0,c=1;c<n;++c)l=e[c]-e[c-1],h=t[c-1]-t[c],l<0?l=0:l>h&&(h=0),h<0?h=0:h>l&&(l=0),a+=l,o+=h;for(f=0,d=a,p=o,v=Math.abs(d-p),f+=m=v/(d+p)*100,g={size:n-1,pushes:0,index:0,vals:[]},y=3*(n-1),x=n;x<r;++x)w=e[x]-e[x-1],b=t[x-1]-t[x],w<0?w=0:w>b&&(b=0),b<0?b=0:b>w&&(w=0),d=a=a*s+w,p=o=o*s+b,v=Math.abs(d-p),m=v/(d+p)*100,x-n<n-2?f+=m:x-n==n-2?(f+=m,g.vals[g.index]=f*u,g.index=g.index+1,g.index>=g.size&&(g.index=0)):(f=f*s+m,x>=y&&(_=g.vals[g.index],k=g.size-1+1,N=g.size,S=_+k%N,i.push(.5*(f*u+S))),g.vals[g.index]=f*u,g.index=g.index+1,g.index>=g.size&&(g.index=0));return[2,i]}))}))()}},{key:"ao",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l;return Sn(this,(function(h){for((r=[])[32]=NaN,i=0,s=0,u=1/34,a=0;a<34;++a)o=.5*(e[a]+t[a]),i+=o,a>=29&&(s+=o);for(r.push(.2*s-u*i),c=34;c<n;++c)l=.5*(e[c]+t[c]),i+=l,s+=l,i-=.5*(e[c-34]+t[c-34]),s-=.5*(e[c-5]+t[c-5]),r.push(.2*s-u*i);return[2,r]}))}))()}},{key:"apo",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l;return Sn(this,(function(h){for((i=[])[0]=NaN,s=2/(t+1),u=2/(n+1),a=e[0],o=e[0],c=1;c<r;++c)a=(e[c]-a)*s+a,o=(e[c]-o)*u+o,l=a-o,i.push(l);return[2,i]}))}))()}},{key:"aroon",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p;return Sn(this,(function(v){for(s=[],(i=[])[n-1]=NaN,s[n-1]=NaN,u=100/n,a=0,o=-1,c=-1,l=e[0],h=t[0],p=n;p<r;++p,++a){if(f=e[p],o<a)for(l=e[o=a],d=a;++d<=p;)(f=e[d])>=l&&(l=f,o=d);else f>=l&&(o=p,l=f);if(f=t[p],c<a)for(h=t[c=a],d=a;++d<=p;)(f=t[d])<=h&&(h=f,c=d);else f<=h&&(c=p,h=f);i[i.length]=(n-(p-c))*u,s[s.length]=(n-(p-o))*u}return[2,[i,s]]}))}))()}},{key:"aroonosc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d;return Sn(this,(function(p){for((i=[])[n-1]=NaN,s=100/n,u=0,a=-1,o=-1,c=e[0],l=t[0],f=n;f<r;++f,++u){if(d=e[f],a<u)for(c=e[a=u],h=u;++h<=f;)(d=e[h])>=c&&(c=d,a=h);else d>=c&&(a=f,c=d);if(d=t[f],o<u)for(l=t[o=u],h=u;++h<=f;)(d=t[h])<=l&&(l=d,o=h);else d<=l&&(o=f,l=d);i.push((a-o)*s)}return[2,i]}))}))()}},{key:"atr",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_;return Sn(this,(function(k){for((s=[])[r-2]=NaN,u=1/r,a=0,a+=e[0]-t[0],o=1;o<r;++o)c=t[o],l=e[o],h=n[o-1],f=Math.abs(l-h),d=Math.abs(c-h),f>(p=l-c)&&(p=f),d>p&&(p=d),a+=p;for(v=a/r,s.push(v),m=r;m<i;++m)g=t[m],y=e[m],x=n[m-1],w=Math.abs(y-x),b=Math.abs(g-x),w>(_=y-g)&&(_=w),b>_&&(_=b),v=(_-v)*u+v,s.push(v);return[2,s]}))}))()}},{key:"avgprice",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u;return Sn(this,(function(a){for(s=[],u=0;u<i;++u)s.push(.25*(e[u]+t[u]+n[u]+r[u]));return[2,s]}))}))()}},{key:"bbands",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p;return Sn(this,(function(v){for(s=[],u=[],(i=[])[t-2]=NaN,s[t-2]=NaN,u[t-2]=NaN,a=1/t,o=0,c=0,l=0;l<t;++l)o+=e[l],c+=e[l]*e[l];for(h=Math.sqrt(c*a-o*a*(o*a)),f=o*a,i.push(f-n*h),u.push(f+n*h),s.push(f),d=t;d<r;++d)o+=e[d],c+=e[d]*e[d],o-=e[d-t],c-=e[d-t]*e[d-t],h=Math.sqrt(c*a-o*a*(o*a)),p=o*a,u.push(p+n*h),i.push(p-n*h),s.push(p);return[2,[i,s,u]]}))}))()}},{key:"bop",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a;return Sn(this,(function(o){for(s=[],u=0;u<i;++u)a=t[u]-n[u],s[u]=a<=0?0:(r[u]-e[u])/a;return[2,s]}))}))()}},{key:"cci",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d;return Sn(this,(function(p){for(s=1/r,(u=[])[2*(r-2)+1]=NaN,a=new dn(r),o=0;o<i;++o)if(l=(e[o]+t[o]+n[o])*(1/3),a.push(l),h=a.sum*s,o>=2*r-2){for(f=0,c=0;c<r;++c)f+=Math.abs(h-a.vals[c]);d=f*s,d=(l-h)/(d*=.015),u.push(d)}return[2,u]}))}))()}},{key:"cmo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a;return Sn(this,(function(o){for((r=[])[t-1]=NaN,i=0,s=0,u=1;u<=t;++u)i+=e[u]>e[u-1]?e[u]-e[u-1]:0,s+=e[u]<e[u-1]?e[u-1]-e[u]:0;for(r.push(100*(i-s)/(i+s)),a=t+1;a<n;++a)i-=e[a-t]>e[a-t-1]?e[a-t]-e[a-t-1]:0,s-=e[a-t]<e[a-t-1]?e[a-t-1]-e[a-t]:0,i+=e[a]>e[a-1]?e[a]-e[a-1]:0,s+=e[a]<e[a-1]?e[a-1]-e[a]:0,r.push(100*(i-s)/(i+s));return[2,r]}))}))()}},{key:"crossany",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i;return Sn(this,(function(s){for(r=[],i=1;i<n;++i)r.push(e[i]>t[i]&&e[i-1]<=t[i-1]||e[i]<t[i]&&e[i-1]>=t[i-1]);return[2]}))}))()}},{key:"crossover",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i;return Sn(this,(function(s){for(r=[],i=1;i<n;++i)r.push(e[i]>t[i]&&e[i-1]<=t[i-1]);return[2]}))}))()}},{key:"cvi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c;return Sn(this,(function(l){for((i=[])[2*(n-1)]=NaN,s=2/(n+1),u=new dn(n),a=e[0]-t[0],o=1;o<2*n-1;++o)a=(e[o]-t[o]-a)*s+a,u.qpush(a);for(o=2*n-1;o<r;++o)a=(e[o]-t[o]-a)*s+a,c=u.vals[u.index],i.push(100*(a-c)/c),u.qpush(a);return[2,i]}))}))()}},{key:"decay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u;return Sn(this,(function(a){for(i=1/t,(r=[]).push(e[0]),s=1;s<n;++s)u=r[r.length-1]-i,r.push(e[s]>u?e[s]:u);return[2,r]}))}))()}},{key:"dema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o;return Sn(this,(function(c){for((r=[])[2*(t-1)-1]=NaN,s=1-(i=2/(t+1)),u=e[0],a=u,o=0;o<n;++o)u=u*s+e[o]*i,o==t-1&&(a=u),o>=t-1&&(a=a*s+u*i,o>=2*(t-1)&&r.push(2*u-a));return[2,r]}))}))()}},{key:"di",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S,M,O,Z;return Sn(this,(function(T){for(u=[],(s=[])[r-2]=NaN,u[r-2]=NaN,a=(r-1)/r,o=0,c=0,l=0,h=1;h<r;++h)f=t[h],d=e[h],p=n[h-1],v=Math.abs(d-p),m=Math.abs(f-p),v>(g=d-f)&&(g=v),m>g&&(g=m),o+=g,y=e[h]-e[h-1],x=t[h-1]-t[h],y<0?y=0:y>x&&(x=0),x<0?x=0:x>y&&(y=0),c+=y,l+=x;for(s.push(100*c/o),u.push(100*l/o),w=r;w<i;++w)b=t[w],_=e[w],k=n[w-1],N=Math.abs(_-k),S=Math.abs(b-k),N>(M=_-b)&&(M=N),S>M&&(M=S),o=o*a+M,O=e[w]-e[w-1],Z=t[w-1]-t[w],O<0?O=0:O>Z&&(Z=0),Z<0?Z=0:Z>O&&(O=0),c=c*a+O,l=l*a+Z,s.push(100*c/o),u.push(100*l/o);return[2,[s,u]]}))}))()}},{key:"dm",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p;return Sn(this,(function(v){for(s=[],(i=[])[n-2]=NaN,s[n-2]=NaN,u=(n-1)/n,a=0,o=0,c=1;c<n;++c)l=e[c]-e[c-1],h=t[c-1]-t[c],l<0?l=0:l>h&&(h=0),h<0?h=0:h>l&&(l=0),a+=l,o+=h;for(i.push(a),s.push(o),f=n;f<r;++f)d=e[f]-e[f-1],p=t[f-1]-t[f],d<0?d=0:d>p&&(p=0),p<0?p=0:p>d&&(d=0),a=a*u+d,o=o*u+p,i.push(a),s.push(o);return[2,[i,s]]}))}))()}},{key:"dpo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o;return Sn(this,(function(c){for(r=t/2+1,(i=[])[t-2]=NaN,s=1/t,u=0,a=0;a<t;++a)u+=e[a];for(i.push(e[t-1-r]-u*s),o=t;o<n;++o)u+=e[o],u-=e[o-t],i.push(e[o-r]-u*s);return[2,i]}))}))()}},{key:"dx",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g;return Sn(this,(function(y){for((i=[])[n-2]=NaN,s=(n-1)/n,u=0,a=0,o=1;o<n;++o)c=e[o]-e[o-1],l=t[o-1]-t[o],c<0?c=0:c>l&&(l=0),l<0?l=0:l>c&&(c=0),u+=c,a+=l;for(h=u,f=a,d=Math.abs(h-f),p=d/(h+f)*100,i.push(p),v=n;v<r;++v)m=e[v]-e[v-1],g=t[v-1]-t[v],m<0?m=0:m>g&&(g=0),g<0?g=0:g>m&&(m=0),h=u=u*s+m,f=a=a*s+g,d=Math.abs(h-f),p=d/(h+f)*100,i.push(p);return[2,i]}))}))()}},{key:"edecay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u;return Sn(this,(function(a){for(i=1-1/t,(r=[]).push(e[0]),s=1;s<n;++s)u=r[r.length-1]*i,r.push(e[s]>u?e[s]:u);return[2,r]}))}))()}},{key:"ema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u;return Sn(this,(function(a){for(r=[],i=2/(t+1),s=e[0],r.push(s),u=1;u<n;++u)s=(e[u]-s)*i+s,r.push(s);return[2,r]}))}))()}},{key:"emv",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o;return Sn(this,(function(c){for((i=[])[0]=NaN,s=.5*(e[0]+t[0]),u=1;u<r;++u)a=.5*(e[u]+t[u]),o=n[u]/1e4/(e[u]-t[u]),i.push((a-s)/o),s=a;return[2,i]}))}))()}},{key:"fisher",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m;return Sn(this,(function(g){for(s=[],(i=[])[n-2]=NaN,s[n-2]=NaN,u=0,a=-1,o=-1,c=.5*(e[0]+t[0]),l=.5*(e[0]+t[0]),h=0,d=0,v=n-1;v<r;++v,++u){if(f=.5*(e[v]+t[v]),a<u)for(c=.5*(e[a=u]+t[a]),p=u;++p<=v;)(f=.5*(e[p]+t[p]))>=c&&(c=f,a=p);else f>=c&&(a=v,c=f);if(f=.5*(e[v]+t[v]),o<u)for(l=.5*(e[o=u]+t[o]),p=u;++p<=v;)(f=.5*(e[p]+t[p]))<=l&&(l=f,o=p);else f<=l&&(o=v,l=f);0==(m=c-l)&&(m=.001),(h=.66*((.5*(e[v]+t[v])-l)/m-.5)+.67*h)>.99&&(h=.999),h<-.99&&(h=-.999),s.push(d),d=.5*Math.log((1+h)/(1-h))+.5*d,i.push(d)}return[2,[i,s]]}))}))()}},{key:"fosc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d,p;return Sn(this,(function(v){for((r=[])[t-1]=NaN,i=0,s=0,u=0,a=0,o=1/t,c=0,l=0;l<t-1;++l)i+=l+1,s+=(l+1)*(l+1),a+=e[l]*(l+1),u+=e[l];for(h=1/(t*(s+=t*t)-(i+=t)*i),f=t-1;f<n;++f)a+=e[f]*t,u+=e[f],p=(u-(d=(t*a-i*u)*h)*i)*o,f>=t&&r.push(100*(e[f]-c)/e[f]),c=p+d*(t+1),a-=u,u-=e[f-t+1];return[2,r]}))}))()}},{key:"hma",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v,m,g;return Sn(this,(function(y){for(r=[],i=Math.floor(t/2),s=Math.floor(Math.sqrt(t)),u=t*(t+1)/2,a=i*(i+1)/2,o=s*(s+1)/2,r[t-1+s-2]=NaN,c=0,l=0,h=0,f=0,d=0,p=0,v=0;v<t-1;++v)l+=e[v]*(v+1),c+=e[v],v>=t-i&&(f+=e[v]*(v+1-(t-i)),h+=e[v]);for(m=new dn(s),v=t-1;v<n;++v)l+=e[v]*t,c+=e[v],f+=e[v]*i,h+=e[v],p+=(g=f/a*2-l/u)*s,d+=g,m.qpush(g),v>=t-1+(s-1)?(r.push(p/o),p-=d,d-=m.get(1)):p-=d,l-=c,c-=e[v-t+1],f-=h,h-=e[v-i+1];return[2,r]}))}))()}},{key:"kama",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c;return Sn(this,(function(l){for((r=[])[t-2]=NaN,2/31,i=0,s=1;s<t;++s)i+=Math.abs(e[s]-e[s-1]);for(u=e[t-1],r.push(u),c=t;c<n;++c)i+=Math.abs(e[c]-e[c-1]),c>t&&(i-=Math.abs(e[c-t]-e[c-t-1])),a=0!=i?Math.abs(e[c]-e[c-t])/i:1,o=Math.pow(.6021505376344085*a+.06451612903225806,2),u+=o*(e[c]-u),r.push(u);return[2,r]}))}))()}},{key:"kvo",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return _n((function(){var a,o,c,l,h,f,d,p,v,m,g,y;return Sn(this,(function(x){for(a=2/(i+1),o=2/(s+1),(c=[])[0]=NaN,l=0,h=e[0]+t[0]+n[0],f=-1,d=0,p=0,v=1;v<u;++v)m=e[v]+t[v]+n[v],g=e[v]-t[v],m>h&&1!=f?(f=1,l=e[v-1]-t[v-1]):m<h&&0!=f&&(f=0,l=e[v-1]-t[v-1]),l+=g,y=r[v]*Math.abs(g/l*2-1)*100*(f?1:-1),1==v?(d=y,p=y):(d=(y-d)*a+d,p=(y-p)*o+p),c.push(d-p),h=m;return[2,c]}))}))()}},{key:"lag",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i;return Sn(this,(function(s){for((r=[])[t-1]=NaN,i=t;i<n;++i)r.push(e[i-t]);return[2,r]}))}))()}},{key:"linreg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d;return Sn(this,(function(p){for((r=[])[t-2]=NaN,i=0,s=0,u=0,a=0,o=1/t,c=0;c<t-1;++c)i+=c+1,s+=(c+1)*(c+1),a+=e[c]*(c+1),u+=e[c];for(l=1/(t*(s+=t*t)-(i+=t)*i),h=t-1;h<n;++h)a+=e[h]*t,u+=e[h],d=(u-(f=(t*a-i*u)*l)*i)*o,r.push(d+f*t),a-=u,u-=e[h-t+1];return[2,r]}))}))()}},{key:"linregintercept",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d;return Sn(this,(function(p){for((r=[])[t-2]=NaN,i=0,s=0,u=0,a=0,o=1/t,c=0;c<t-1;++c)i+=c+1,s+=(c+1)*(c+1),a+=e[c]*(c+1),u+=e[c];for(l=1/(t*(s+=t*t)-(i+=t)*i),h=t-1;h<n;++h)a+=e[h]*t,u+=e[h],d=(u-(f=(t*a-i*u)*l)*i)*o,r.push(d+1*f),a-=u,u-=e[h-t+1];return[2,r]}))}))()}},{key:"linregslope",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h;return Sn(this,(function(f){for((r=[])[t-2]=NaN,i=0,s=0,u=0,a=0,o=0;o<t-1;++o)i+=o+1,s+=(o+1)*(o+1),a+=e[o]*(o+1),u+=e[o];for(c=1/(t*(s+=t*t)-(i+=t)*i),l=t-1;l<n;++l)a+=e[l]*t,u+=e[l],h=(t*a-i*u)*c,r.push(h),a-=u,u-=e[l-t+1];return[2,r]}))}))()}},{key:"macd",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v;return Sn(this,(function(m){for(u=[],a=[],(s=[])[n-2]=NaN,u[n-2]=NaN,a[n-2]=NaN,o=2/(t+1),c=2/(n+1),l=2/(r+1),12==t&&26==n&&(o=.15,c=.075),h=e[0],f=e[0],d=0,p=1;p<i;++p)h=(e[p]-h)*o+h,f=(e[p]-f)*c+f,v=h-f,p==n-1&&(d=v),p>=n-1&&(d=(v-d)*l+d,s.push(v),u.push(d),a.push(v-d));return[2,[s,u,a]]}))}))()}},{key:"marketfi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s;return Sn(this,(function(u){for(i=[],s=0;s<r;++s)i.push((e[s]-t[s])/n[s]);return[2,i]}))}))()}},{key:"mass",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c;return Sn(this,(function(l){for((i=[])[16+n-2]=NaN,s=e[0]-t[0],u=s,a={index:0,pushes:0,size:n,sum:0,vals:[]},o=0;o<r;++o)c=e[o]-t[o],s=.8*s+.2*c,8==o&&(u=s),o>=8&&(u=.8*u+.2*s,o>=16&&(a.pushes>=a.size&&(a.sum-=a.vals[a.index]),a.sum+=s/u,a.vals[a.index]=s/u,a.pushes+=1,a.index=a.index+1,a.index>=a.size&&(a.index=0),o>=16+n-1&&i.push(a.sum)));return[2,i]}))}))()}},{key:"max",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c;return Sn(this,(function(l){for((r=[])[t-2]=NaN,i=0,s=-1,u=e[0],o=t-1;o<n;++o,++i){if(c=e[o],s<i)for(u=e[s=i],a=i;++a<=o;)(c=e[a])>=u&&(u=c,s=a);else c>=u&&(s=o,u=c);r.push(u)}return[2,r]}))}))()}},{key:"md",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l;return Sn(this,(function(h){for((r=[])[t-2]=NaN,i=1/t,s=0,a=0;a<n;++a)if(o=e[a],s+=o,a>=t&&(s-=e[a-t]),c=s*i,a>=t-1){for(l=0,u=0;u<t;++u)l+=Math.abs(c-e[a-u]);r.push(l*i)}return[2,r]}))}))()}},{key:"medprice",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i;return Sn(this,(function(s){for(r=[],i=0;i<n;++i)r.push(.5*(e[i]+t[i]));return[2,r]}))}))()}},{key:"mfi",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return _n((function(){var u,a,o,c,l,h,f;return Sn(this,(function(d){for((u=[])[i-1]=NaN,a=(e[0]+t[0]+n[0])*(1/3),o={size:i,index:0,pushes:0,sum:0,vals:[]},c={size:i,index:0,pushes:0,sum:0,vals:[]},l=1;l<s;++l)h=(e[l]+t[l]+n[l])*(1/3),f=h*r[l],h>a?(o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=f,o.vals[o.index]=f,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=0,c.vals[c.index]=0,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0)):h<a?(c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=f,c.vals[c.index]=f,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=0,o.vals[o.index]=0,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0)):(o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=0,o.vals[o.index]=0,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=0,c.vals[c.index]=0,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0)),a=h,l>=i&&u.push(o.sum/(o.sum+c.sum)*100);return[2,u]}))}))()}},{key:"min",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c;return Sn(this,(function(l){for((r=[])[t-2]=NaN,i=0,s=-1,u=e[0],o=t-1;o<n;++o,++i){if(c=e[o],s<i)for(u=e[s=i],a=i;++a<=o;)(c=e[a])<=u&&(u=c,s=a);else c<=u&&(s=o,u=c);r.push(u)}return[2,r]}))}))()}},{key:"mom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i;return Sn(this,(function(s){for((r=[])[t-1]=NaN,i=t;i<n;++i)r.push(e[i]-e[i-t]);return[2,r]}))}))()}},{key:"msw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f;return Sn(this,(function(d){for(i=[],(r=[])[t-1]=NaN,i[t-1]=NaN,u=2*(s=3.1415926),a=0,f=t;f<n;++f){for(c=0,l=0,h=0;h<t;++h)a=e[f-h],c+=Math.cos(u*h/t)*a,l+=Math.sin(u*h/t)*a;o=Math.abs(c)>.001?Math.atan(l/c):u/2*(l<0?-1:1),c<0&&(o+=s),(o+=s/2)<0&&(o+=u),o>u&&(o-=u),r.push(Math.sin(o)),i.push(Math.sin(o+s/4))}return[2,[r,i]]}))}))()}},{key:"natr",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_;return Sn(this,(function(k){for((s=[])[r-2]=NaN,u=1/r,a=0,a+=e[0]-t[0],o=1;o<r;++o)c=t[o],l=e[o],h=n[o-1],f=Math.abs(l-h),d=Math.abs(c-h),f>(p=l-c)&&(p=f),d>p&&(p=d),a+=p;for(v=a/r,s.push(100*v/n[r-1]),m=r;m<i;++m)g=t[m],y=e[m],x=n[m-1],w=Math.abs(y-x),b=Math.abs(g-x),w>(_=y-g)&&(_=w),b>_&&(_=b),v=(_-v)*u+v,s.push(100*v/n[m]);return[2,s]}))}))()}},{key:"nvi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s;return Sn(this,(function(u){for((r=[]).push(i=1e3),s=1;s<n;++s)t[s]<t[s-1]&&(i+=(e[s]-e[s-1])/e[s-1]*i),r.push(i);return[2,r]}))}))()}},{key:"obv",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u;return Sn(this,(function(a){for((r=[]).push(i=0),s=e[0],u=1;u<n;++u)e[u]>s?i+=t[u]:e[u]<s&&(i-=t[u]),s=e[u],r.push(i);return[2,r]}))}))()}},{key:"ppo",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l;return Sn(this,(function(h){for((i=[])[0]=NaN,s=2/(t+1),u=2/(n+1),a=e[0],o=e[0],c=1;c<r;++c)a=(e[c]-a)*s+a,o=(e[c]-o)*u+o,l=100*(a-o)/o,i.push(l);return[2,i]}))}))()}},{key:"psar",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l;return Sn(this,(function(h){for((s=[])[0]=NaN,(u=e[0]+t[0]<=e[1]+t[1]?1:0)?(o=e[0],a=t[0]):(o=t[0],a=e[0]),c=n,l=1;l<i;++l)a=(o-a)*c+a,u?(l>=2&&a>t[l-2]&&(a=t[l-2]),a>t[l-1]&&(a=t[l-1]),c<r&&e[l]>o&&(c+=n)>r&&(c=r),e[l]>o&&(o=e[l])):(l>=2&&a<e[l-2]&&(a=e[l-2]),a<e[l-1]&&(a=e[l-1]),c<r&&t[l]<o&&(c+=n)>r&&(c=r),t[l]<o&&(o=t[l])),(u&&t[l]<a||!u&&e[l]>a)&&(c=n,a=o,o=(u=!u)?e[l]:t[l]),s.push(a);return[2,s]}))}))()}},{key:"pvi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s;return Sn(this,(function(u){for((r=[]).push(i=1e3),s=1;s<n;++s)t[s]>t[s-1]&&(i+=(e[s]-e[s-1])/e[s-1]*i),r.push(i);return[2,r]}))}))()}},{key:"roc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i;return Sn(this,(function(s){for((r=[])[t-1]=NaN,i=t;i<n;++i)r.push((e[i]-e[i-t])/e[i-t]);return[2,r]}))}))()}},{key:"rocr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i;return Sn(this,(function(s){for((r=[])[t-1]=NaN,i=t;i<n;++i)r.push(e[i]/e[i-t]);return[2,r]}))}))()}},{key:"rsi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f;return Sn(this,(function(d){for((r=[])[t-1]=NaN,i=1/t,s=0,u=0,a=1;a<=t;++a)o=e[a]>e[a-1]?e[a]-e[a-1]:0,c=e[a]<e[a-1]?e[a-1]-e[a]:0,s+=o,u+=c;for(s/=t,u/=t,r.push(s/(s+u)*100),l=t+1;l<n;++l)h=e[l]>e[l-1]?e[l]-e[l-1]:0,f=e[l]<e[l-1]?e[l-1]-e[l]:0,s=(h-s)*i+s,u=(f-u)*i+u,r.push(s/(s+u)*100);return[2,r]}))}))()}},{key:"sma",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a;return Sn(this,(function(o){for((r=[])[t-2]=NaN,i=1/t,s=0,u=0;u<t;++u)s+=e[u];for(r.push(s*i),a=t;a<n;++a)s+=e[a],s-=e[a-t],r.push(s*i);return[2,r]}))}))()}},{key:"stddev",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l;return Sn(this,(function(h){for((r=[])[t-2]=NaN,i=1/t,s=0,u=0,a=0;a<t;++a)s+=e[a],u+=e[a]*e[a];for((o=u*i-s*i*(s*i))>0&&(o=Math.sqrt(o)),r.push(o),c=t;c<n;++c)s+=e[c],u+=e[c]*e[c],s-=e[c-t],u-=e[c-t]*e[c-t],(l=u*i-s*i*(s*i))>0&&(l=Math.sqrt(l)),r.push(l);return[2,r]}))}))()}},{key:"stderr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h;return Sn(this,(function(f){for((r=[])[t-2]=NaN,i=1/t,s=0,u=0,a=1/Math.sqrt(t),o=0;o<t;++o)s+=e[o],u+=e[o]*e[o];for((c=u*i-s*i*(s*i))>0&&(c=Math.sqrt(c)),r.push(a*c),l=t;l<n;++l)s+=e[l],u+=e[l]*e[l],s-=e[l-t],u-=e[l-t]*e[l-t],(h=u*i-s*i*(s*i))>0&&(h=Math.sqrt(h)),r.push(a*h);return[2,r]}))}))()}},{key:"stoch",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return _n((function(){var a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k;return Sn(this,(function(N){for(a=1/i,o=1/s,l=[],(c=[])[r+i+s-3-1]=NaN,l[r+i+s-3-1]=NaN,h=0,f=-1,d=-1,p=e[0],v=t[0],g={size:i,index:0,pushes:0,sum:0,vals:[]},y={size:s,index:0,pushes:0,sum:0,vals:[]},w=0;w<u;++w){if(w>=r&&++h,m=e[w],f<h)for(p=e[f=h],x=h;++x<=w;)(m=e[x])>=p&&(p=m,f=x);else m>=p&&(f=w,p=m);if(m=t[w],d<h)for(v=t[d=h],x=h;++x<=w;)(m=t[x])<=v&&(v=m,d=x);else m<=v&&(d=w,v=m);_=0==(b=p-v)?0:(n[w]-v)/b*100,g.pushes>=g.size&&(g.sum-=g.vals[g.index]),g.sum+=_,g.vals[g.index]=_,g.pushes+=1,g.index=g.index+1,g.index>=g.size&&(g.index=0),w>=r-1+i-1&&(k=g.sum*a,y.pushes>=y.size&&(y.sum-=y.vals[y.index]),y.sum+=k,y.vals[y.index]=k,y.pushes+=1,y.index=y.index+1,y.index>=y.size&&(y.index=0),w>=r-1+i-1+s-1&&(c.push(k),l.push(y.sum*o)))}return[2,[c,l]]}))}))()}},{key:"stochrsi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b;return Sn(this,(function(_){for((r=[])[2*t-2]=NaN,i=1/t,s={size:t,index:0,pushes:0,sum:0,vals:[]},u=0,a=0,o=1;o<=t;++o)c=e[o]>e[o-1]?e[o]-e[o-1]:0,l=e[o]<e[o-1]?e[o-1]-e[o]:0,u+=c,a+=l;for(h=(u/=t)/(u+(a/=t))*100,s.pushes>=s.size&&(s.sum-=s.vals[s.index]),s.sum+=h,s.vals[s.index]=h,s.pushes+=1,s.index=s.index+1,s.index>=s.size&&(s.index=0),f=h,d=h,p=0,v=0,m=t+1;m<n;++m){if(g=e[m]>e[m-1]?e[m]-e[m-1]:0,y=e[m]<e[m-1]?e[m-1]-e[m]:0,(h=(u=(g-u)*i+u)/(u+(a=(y-a)*i+a))*100)>d)d=h,v=s.index;else if(v==s.index)for(d=h,x=0;x<s.size;++x)x!=s.index&&s.vals[x]>d&&(d=s.vals[x],v=x);if(h<f)f=h,p=s.index;else if(p==s.index)for(f=h,w=0;w<s.size;++w)w!=s.index&&s.vals[w]<f&&(f=s.vals[w],p=w);s.vals[s.index]=h,s.index=s.index+1,s.index>=s.size&&(s.index=0),m>2*t-2&&(0==(b=d-f)?r.push(0):r.push((h-f)/b))}return[2,r]}))}))()}},{key:"sum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u;return Sn(this,(function(a){for((r=[])[t-2]=NaN,i=0,s=0;s<t;++s)i+=e[s];for(r.push(i),u=t;u<n;++u)i+=e[u],i-=e[u-t],r.push(i);return[2,r]}))}))()}},{key:"tema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c;return Sn(this,(function(l){for((r=[])[3*(t-1)-1]=NaN,s=1-(i=2/(t+1)),u=e[0],a=0,o=0,c=0;c<n;++c)u=u*s+e[c]*i,c==t-1&&(a=u),c>=t-1&&(a=a*s+u*i,c==2*(t-1)&&(o=a),c>=2*(t-1)&&(o=o*s+a*i,c>=3*(t-1)&&r.push(3*u-3*a+o)));return[2,r]}))}))()}},{key:"tr",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f;return Sn(this,(function(d){for((i=[])[0]=e[0]-t[0],u=1;u<r;++u)a=t[u],o=e[u],c=n[u-1],l=Math.abs(o-c),h=Math.abs(a-c),l>(f=o-a)&&(f=l),h>f&&(f=h),s=f,i.push(s);return[2,i]}))}))()}},{key:"trima",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v;return Sn(this,(function(m){for((r=[])[t-2]=NaN,i=1/(t%2?(t/2+1)*(t/2+1):t/2*(t/2+1)),s=0,u=0,a=0,c=1+(o=t%2?t/2:t/2-1),l=1,h=0;h<t-1;++h)s+=e[h]*l,h+1>t-o&&(u+=e[h]),h+1<=c&&(a+=e[h]),h+1<c&&++l,h+1>=t-o&&--l;for(f=t-1-o+1,d=t-1-t+1+c,p=t-1-t+1,v=t-1;v<n;++v)s+=e[v],r.push(s*i),u+=e[v],s+=u,s-=a,u-=e[f++],a+=e[d++],a-=e[p++];return[2,r]}))}))()}},{key:"trix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h;return Sn(this,(function(f){for((r=[])[3*(t-1)+1-1]=NaN,i=3*t-2,s=2/(t+1),u=e[0],a=0,o=0,c=1;c<i;++c)u=(e[c]-u)*s+u,c==t-1?a=u:c>t-1&&(a=(u-a)*s+a,c==2*t-2?o=a:c>2*t-2&&(o=(a-o)*s+o));for(l=i;l<n;++l)u=(e[l]-u)*s+u,h=o,o=((a=(u-a)*s+a)-o)*s+o,r.push((o-h)/o*100);return[2,r]}))}))()}},{key:"tsf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d;return Sn(this,(function(p){for((r=[])[t-2]=NaN,i=0,s=0,u=0,a=0,o=1/t,c=0;c<t-1;++c)i+=c+1,s+=(c+1)*(c+1),a+=e[c]*(c+1),u+=e[c];for(l=1/(t*(s+=t*t)-(i+=t)*i),h=t-1;h<n;++h)a+=e[h]*t,u+=e[h],d=(u-(f=(t*a-i*u)*l)*i)*o,r.push(d+f*(t+1)),a-=u,u-=e[h-t+1];return[2,r]}))}))()}},{key:"typprice",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s;return Sn(this,(function(u){for(i=[],s=0;s<r;++s)i.push((e[s]+t[s]+n[s])*(1/3));return[2,i]}))}))()}},{key:"ultosc",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return _n((function(){var a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N;return Sn(this,(function(S){for((a=[])[s-1]=NaN,o={size:s,index:0,pushes:0,sum:0,vals:[]},c={size:s,index:0,pushes:0,sum:0,vals:[]},l=0,h=0,f=0,d=0,p=1;p<u;++p)v=t[p]<n[p-1]?t[p]:n[p-1],m=e[p]>n[p-1]?e[p]:n[p-1],g=n[p]-v,l+=g,h+=g,f+=y=m-v,d+=y,o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=g,o.vals[o.index]=g,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=y,c.vals[c.index]=y,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),p>r&&((x=o.index-r-1)<0&&(x+=s),l-=o.vals[x],f-=c.vals[x],p>i&&((w=o.index-i-1)<0&&(w+=s),h-=o.vals[w],d-=c.vals[w])),p>=s&&(b=4*l/f,_=2*h/d,k=1*o.sum/c.sum,N=100*(b+_+k)/7,a.push(N));return[2,a]}))}))()}},{key:"var",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o;return Sn(this,(function(c){for((r=[])[t-2]=NaN,i=1/t,s=0,u=0,a=0;a<t;++a)s+=e[a],u+=e[a]*e[a];for(r.push(u*i-s*i*(s*i)),o=t;o<n;++o)s+=e[o],u+=e[o]*e[o],s-=e[o-t],u-=e[o-t]*e[o-t],r.push(u*i-s*i*(s*i));return[2,r]}))}))()}},{key:"vhf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f,d,p,v;return Sn(this,(function(m){for((r=[])[t-1]=NaN,i=1,s=-1,u=-1,a=e[0],o=e[0],l=0,h=e[0],p=1;p<t;++p)f=e[p],l+=Math.abs(f-h),h=f;for(v=t;v<n;++v,++i){if(f=e[v],l+=Math.abs(f-h),h=f,v>t&&(l-=Math.abs(e[v-t]-e[v-t-1])),c=f,s<i)for(a=e[s=i],d=i;++d<=v;)(c=e[d])>=a&&(a=c,s=d);else c>=a&&(s=v,a=c);if(c=f,u<i)for(o=e[u=i],d=i;++d<=v;)(c=e[d])<=o&&(o=c,u=d);else c<=o&&(u=v,o=c);r.push(Math.abs(a-o)/l)}return[2,r]}))}))()}},{key:"vidya",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w;return Sn(this,(function(b){for((s=[])[n-3]=NaN,u=1/t,a=1/n,o=0,c=0,l=0,h=0,f=0;f<n;++f)l+=e[f],h+=e[f]*e[f],f>=n-t&&(o+=e[f],c+=e[f]*e[f]);for(d=e[n-2],s.push(d),n-1<i&&(p=Math.sqrt(c*u-o*u*(o*u)),v=Math.sqrt(h*a-l*a*(l*a)),(m=p/v)!=m&&(m=0),m*=r,d=(e[n-1]-d)*m+d,s.push(d)),g=n;g<i;++g)l+=e[g],h+=e[g]*e[g],o+=e[g],c+=e[g]*e[g],l-=e[g-n],h-=e[g-n]*e[g-n],o-=e[g-t],c-=e[g-t]*e[g-t],y=Math.sqrt(c*u-o*u*(o*u)),x=Math.sqrt(h*a-l*a*(l*a)),(w=y/x)!=w&&(w=0),w*=r,d=(e[g]-d)*w+d,s.push(d);return[2,s]}))}))()}},{key:"volatility",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c,l,h,f;return Sn(this,(function(d){for((r=[])[t-1]=NaN,i=1/t,s=Math.sqrt(252),u=0,a=0,o=1;o<=t;++o)c=e[o]/e[o-1]-1,u+=c,a+=c*c;for(r.push(Math.sqrt(a*i-u*i*(u*i))*s),l=t+1;l<n;++l)h=e[l]/e[l-1]-1,u+=h,a+=h*h,f=e[l-t]/e[l-t-1]-1,u-=f,a-=f*f,r.push(Math.sqrt(a*i-u*i*(u*i))*s);return[2,r]}))}))()}},{key:"vosc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p;return Sn(this,(function(v){for((i=[])[n-2]=NaN,s=1/t,u=1/n,a=0,o=0,c=0;c<n;++c)c>=n-t&&(a+=e[c]),o+=e[c];for(l=a*s,h=o*u,i.push(100*(l-h)/h),f=n;f<r;++f)a+=e[f],a-=e[f-t],o+=e[f],o-=e[f-n],d=a*s,p=o*u,i.push(100*(d-p)/p);return[2,i]}))}))()}},{key:"vwma",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o;return Sn(this,(function(c){for((i=[])[n-2]=NaN,s=0,u=0,a=0;a<n;++a)s+=e[a]*t[a],u+=t[a];for(i.push(s/u),o=n;o<r;++o)s+=e[o]*t[o],s-=e[o-n]*t[o-n],u+=t[o],u-=t[o-n],i.push(s/u);return[2,i]}))}))()}},{key:"wad",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o;return Sn(this,(function(c){for((i=[])[0]=NaN,s=0,u=n[0],a=1;a<r;++a)(o=n[a])>u?s+=o-(u<t[a]?u:t[a]):o<u&&(s+=o-(u>e[a]?u:e[a])),i.push(s),u=n[a];return[2,i]}))}))()}},{key:"wcprice",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s;return Sn(this,(function(u){for(i=[],s=0;s<r;++s)i.push(.25*(e[s]+t[s]+n[s]+n[s]));return[2,i]}))}))()}},{key:"wilders",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o;return Sn(this,(function(c){for((r=[])[t-2]=NaN,i=1/t,s=0,u=0;u<t;++u)s+=e[u];for(a=s/t,r.push(a),o=t;o<n;++o)a=(e[o]-a)*i+a,r.push(a);return[2,r]}))}))()}},{key:"willr",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v;return Sn(this,(function(m){for((s=[])[r-2]=NaN,u=0,a=-1,o=-1,c=e[0],l=t[0],d=r-1;d<i;++d,++u){if(h=e[d],a<u)for(c=e[a=u],f=u;++f<=d;)(h=e[f])>=c&&(c=h,a=f);else h>=c&&(a=d,c=h);if(h=t[d],o<u)for(l=t[o=u],f=u;++f<=d;)(h=t[f])<=l&&(l=h,o=f);else h<=l&&(o=d,l=h);v=0==(p=c-l)?0:(c-n[d])/p*-100,s.push(v)}return[2,s]}))}))()}},{key:"wma",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o;return Sn(this,(function(c){for((r=[])[t-2]=NaN,i=t*(t+1)/2,s=0,u=0,a=0;a<t-1;++a)u+=e[a]*(a+1),s+=e[a];for(o=t-1;o<n;++o)u+=e[o]*t,s+=e[o],r.push(u/i),u-=s,s-=e[o-t+1];return[2,r]}))}))()}},{key:"zlema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return _n((function(){var r,i,s,u,a,o,c;return Sn(this,(function(l){for(r=Math.floor((t-1)/2),(i=[])[(t-2)/2-2]=NaN,s=2/(t+1),u=e[r-1],i.push(u),a=r;a<n;++a)o=e[a],c=e[a-r],u=(o+(o-c)-u)*s+u,i.push(u);return[2,i]}))}))()}},{key:"abands",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x;return Sn(this,(function(w){for(u=[],a=[],(s=[])[r-2]=NaN,u[r-2]=NaN,a[r-2]=NaN,o=1/r,c={size:r,index:0,pushes:0,sum:0,vals:[]},l={size:r,index:0,pushes:0,sum:0,vals:[]},h=0,f=0;f<r;++f)d=4*(e[f]-t[f])/(e[f]+t[f]),p=(1+d)*e[f],c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=p,c.vals[c.index]=p,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),v=(1-d)*t[f],l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=v,l.vals[l.index]=v,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),h+=n[f];for(s.push(c.sum*o),u.push(l.sum*o),a.push(h*o),m=r;m<i;++m)g=4*(e[m]-t[m])/(e[m]+t[m]),y=(1+g)*e[m],c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=y,c.vals[c.index]=y,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),x=(1-g)*t[m],l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=x,l.vals[l.index]=x,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),h+=n[m]-n[m-r],s.push(c.sum*o),u.push(l.sum*o),a.push(h*o);return[2,[s,u,a]]}))}))()}},{key:"alma",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p;return Sn(this,(function(v){for((s=[])[t-2]=NaN,u=[],a=Math.floor(n*(t-1)),o=t/r,c=0,l=0;l<t;l++)u[l]=Math.exp(-1*Math.pow(l-a,2)/(2*Math.pow(o,2))),c+=u[l];for(h=0;h<t;h++)u[h]/=c;for(f=t-1;f<i;f++){for(d=0,p=0;p<t;p++)d+=e[f-t+p+1]*u[p];s.push(d)}return[2,s]}))}))()}},{key:"ce",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return _n((function(){var u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S,M,O,Z,T,E,A;return Sn(this,(function(z){for(a=[],(u=[])[r-2]=NaN,a[r-2]=NaN,o=e[0]-t[0],l=e[0],h=0,f=t[0],d=0,p=1;p<r;++p)v=t[p],m=e[p],g=n[p-1],y=Math.abs(m-g),x=Math.abs(v-g),y>(w=m-v)&&(w=y),x>w&&(w=x),o+=w,l<=(c=e[p])&&(l=c,h=p),f>=(c=t[p])&&(f=c,d=p);for(o/=r,b=(r-1)/r,_=1/r,u.push(l-i*o),a.push(f+i*o),k=r;k<s;++k){if(N=t[k],S=e[k],M=n[k-1],O=Math.abs(S-M),Z=Math.abs(N-M),O>(T=S-N)&&(T=O),Z>T&&(T=Z),o=o*b+T*_,l<=(c=e[k]))l=c,h=k;else if(h==k-r)for(l=e[k-r+1],h=k-r+1,E=k-r+2;E<=k;++E)l<=(c=e[E])&&(l=c,h=E);if(f>=(c=t[k]))f=c,d=k;else if(d==k-r)for(f=t[k-r+1],d=k-r+1,A=k-r+2;A<=k;++A)f>=(c=t[A])&&(f=c,d=A);u.push(l-i*o),a.push(f+i*o)}return[2,[u,a]]}))}))()}},{key:"cmf",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return _n((function(){var u,a,o,c,l;return Sn(this,(function(h){for((u=[])[i-2]=NaN,a=0,o=0,c=0;c<i-1;++c)o+=e[c]-t[c]?r[c]*(n[c]-t[c]-(e[c]-n[c]))/(e[c]-t[c]):0,a+=r[c];for(l=i-1;l<s;++l)o+=e[l]-t[l]?r[l]*(n[l]-t[l]-(e[l]-n[l]))/(e[l]-t[l]):0,a+=r[l],u.push(o/a),o-=e[l-i+1]-t[l-i+1]?r[l-i+1]*(n[l-i+1]-t[l-i+1]-(e[l-i+1]-n[l-i+1]))/(e[l-i+1]-t[l-i+1]):0,a-=r[l-i+1];return[2,u]}))}))()}},{key:"copp",value:function(e,t,n){return _n((function(){var r,i,s,u;return Sn(this,(function(a){for(r=new Array(e.length),i=new Array(e.length),s=new Array(e.length),u=0;u<e.length;u++)r[u]=u<t-1?null:(e[u]-e[u-t])/e[u-t]*100,i[u]=u<n-1?null:(e[u]-e[u-n])/e[u-n]*100,s[u]=10*(r[u]+i[u]);return[2,s]}))}))()}},{key:"dc",value:function(e,t,n){return _n((function(){var r,i,s,u,a,o;return Sn(this,(function(c){for(i=[],s=[],(r=[])[n-2]=NaN,i[n-2]=NaN,s[n-2]=NaN,u=n-1;u<e.length;u++)r.push((a=Math).max.apply(a,Nn(e.slice(u-n+1,u+1)))),i.push((o=Math).min.apply(o,Nn(t.slice(u-n+1,u+1)))),s.push((r[r.length-1]+i[i.length-1])/2);return[2,[r,s,i]]}))}))()}},{key:"fi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a;return Sn(this,(function(o){for((i=[])[0]=NaN,s=2/(n+1),u=t[1]*(e[1]-e[0]),a=1;a<r;++a)u=(t[a]*(e[a]-e[a-1])-u)*s+u,i.push(u);return[2,i]}))}))()}},{key:"ikhts",value:function(){return _n((function(){return Sn(this,(function(e){return[2]}))}))()}},{key:"kc",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return _n((function(){var u,a,o,c,l,h,f,d,p,v,m,g,y;return Sn(this,(function(x){for(u=[],a=[],o=[],c=2/(r+1),l=n[0],h=e[0]-t[0],u.push(l-i*h),a.push(l),o.push(l+i*h),f=1;f<s;++f)l=(n[f]-l)*c+l,d=t[f],p=e[f],v=n[f-1],m=Math.abs(p-v),g=Math.abs(d-v),m>(y=p-d)&&(y=m),g>y&&(y=g),h=(y-h)*c+h,u.push(l-i*h),a.push(l),o.push(l+i*h);return[2,[u,a,o]]}))}))()}},{key:"kst",value:function(e,t,n,r,i,s,u,a,o){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:e.length;return _n((function(){var l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S,M,O;function Z(t,n){return(e[t]-e[t-n])/e[t-n]}return Sn(this,(function(e){for(h=[],(l=[])[i-1]=NaN,h[i-1]=NaN,(f=s)<u&&(f=u),f<a&&(f=a),f<o&&(f=o),d=2/(s+1),p=2/(u+1),v=2/(a+1),m=2/(o+1),g=Z(t,t),y=Z(n,n),x=Z(r,r),w=Z(i,i),b=t+1;b<i+1&&b<c;++b)g=(Z(b,t)-g)*d+g;for(_=n+1;_<i+1&&_<c;++_)y=(Z(_,n)-y)*p+y;for(k=r+1;k<i+1&&k<c;++k)x=(Z(k,r)-x)*v+x;for(N=i+1;N<i+1&&N<c;++N)w=(Z(N,i)-w)*m+w;for(S=(1*g+2*y+3*x+4*w)/10,h.push(S),M=S,l.push(M),O=i+1;O<c;++O)g=(Z(O,t)-g)*d+g,y=(Z(O,n)-y)*p+y,x=(Z(O,r)-x)*v+x,w=(Z(O,i)-w)*m+w,S=(1*g+2*y+3*x+4*w)/10,l.push(S),M=.2*(S-M)+M,h.push(M);return[2,[l,h]]}))}))()}},{key:"mama",value:function(){return _n((function(){return Sn(this,(function(e){return[2]}))}))()}},{key:"pbands",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;return _n((function(){var s,u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b;return Sn(this,(function(_){for(u=[],(s=[])[r-2]=NaN,u[r-2]=NaN,a=0,o=0,c=r*(r+1)/2,l=r*(r+1)*(2*r+1)/6,h=0;h<r;++h)o+=n[h]*(h+1),a+=n[h];for(--h,f=(o/r-c/r*a/r)/(l/r-c/r*(c/r)),d=e[h],p=1;p<r;++p)d<e[h-p]+p*f&&(d=e[h-p]+p*f);for(v=t[h],m=1;m<r;++m)v>t[h-m]+m*f&&(v=t[h-m]+m*f);for(u.push(d),s.push(v),++h;h<i;++h){for(o+=-a+n[h]*r,a+=-n[h-r]+n[h],g=(o/r-c/r*a/r)/(l/r-c/r*(c/r)),y=e[h],x=1;x<r;++x)y<e[h-x]+x*g&&(y=e[h-x]+x*g);for(w=t[h],b=1;b<r;++b)w>t[h-b]+b*g&&(w=t[h-b]+b*g);s.push(w),u.push(y)}return[2,[s,u]]}))}))()}},{key:"pc",value:function(){return _n((function(){return Sn(this,(function(e){return[2]}))}))()}},{key:"pfe",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l;return Sn(this,(function(h){for((i=[])[t-1]=NaN,s=2/(n+1),u={size:t,index:0,pushes:0,sum:0,vals:[]},a=1;a<t;++a)u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.vals[u.index]=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0);for(u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.vals[u.index]=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),o=100*(e[a]-e[a-t]>0?1:-1)*Math.sqrt(Math.pow(e[a]-e[a-t],2)+100),c=o/u.sum,i.push(c),a=t+1;a<r;++a)u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.vals[u.index]=Math.sqrt(Math.pow(e[a]-e[a-1],2)+1),u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),l=100*(e[a]-e[a-t]>0?1:-1)*Math.sqrt(Math.pow(e[a]-e[a-t],2)+100),c=(l/u.sum-c)*s+c,i.push(c);return[2,i]}))}))()}},{key:"posc",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return _n((function(){var u,a,o,c,l,h,f,d,p,v,m,g,y,x,w,b,_,k;return Sn(this,(function(N){for((u=[])[r-2]=NaN,a=0,o=0,l=r*(r+1)/2,h=r*(r+1)*(2*r+1)/6,f=0;f<r;++f)o+=n[f]*(f+1),a+=n[f];for(--f,d=(o/r-l/r*a/r)/(h/r-l/r*(l/r)),p=e[f],v=1;v<r;++v)p<e[f-v]+v*d&&(p=e[f-v]+v*d);for(m=t[f],g=1;g<r;++g)m>t[f-g]+g*d&&(m=t[f-g]+g*d);for(c=(n[f]-m)/(p-m)*100,u.push(c),++f;f<s;++f){for(o+=-a+n[f]*r,a+=-n[f-r]+n[f],y=(o/r-l/r*a/r)/(h/r-l/r*(l/r)),x=e[f],w=1;w<r;++w)x<e[f-w]+w*y&&(x=e[f-w]+w*y);for(b=t[f],_=1;_<r;++_)b>t[f-_]+_*y&&(b=t[f-_]+_*y);k=(n[f]-b)/(x-b)*100,c=2*(k-c)/(1+i)+c,u.push(c)}return[2,u]}))}))()}},{key:"rmi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a;return Sn(this,(function(o){for((i=[])[n-1]=NaN,s=0>e[a=n]-e[a-n]?0:e[a]-e[a-n],u=0>e[a-n]-e[a]?0:e[a-n]-e[a],++a,i.push(s/(s+u)*100);a<r;++a)s=2*(0>e[a]-e[a-n]?0:e[a]-e[a-n]-s)/(1+t)+s,u=2*(0>e[a-n]-e[a]?0:e[a-n]-e[a]-u)/(1+t)+u,i.push(s/(s+u)*100);return[2,i]}))}))()}},{key:"rmta",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h;return Sn(this,(function(f){for((i=[])[t-2]=NaN,u=(1-(s=1-n))*e[0]+e[0],a=(1-s)*e[0]+s*(e[0]+u),o=1;o<t-1;++o)c=(1-s)*u+e[o],a=(1-s)*a+s*(e[o]+c-u),u=c;for(l=t-1;l<r;++l)h=(1-s)*u+e[l],a=(1-s)*a+s*(e[l]+h-u),u=h,i.push(a);return[2,i]}))}))()}},{key:"rvi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h,f,d,p,v,m,g;return Sn(this,(function(y){for((i=[])[n-2]=NaN,s=0,u=0,a=n*(n+1)/2,o=n*(n+1)*(2*n+1)/6,c=0,l=0,h=0;h<n;++h)u+=e[h]*(h+1),s+=e[h];for(--h,d=s/n-(f=(u/n-a/n*s/n)/(o/n-a/n*(a/n)))*a/n,(p=e[h]-(d+f*n))>0?c=p*p/n:l=p*p/n,c+l==0?i.push(50):i.push(c/(c+l)*100),++h;h<r;++h)u+=-s+e[h]*n,s+=-e[h-n]+e[h],m=s/n-(v=(u/n-a/n*s/n)/(o/n-a/n*(a/n)))*a/n,(g=e[h]-(m+v*n))>0?c=2*(g*g/n-c)/(t+1)+c:l=2*(g*g/n-l)/(t+1)+l,c+l==0?i.push(50):i.push(c/(c+l)*100);return[2,i]}))}))()}},{key:"smi",value:function(e,t,n,r,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.length;return _n((function(){var a,o,c,l,h,f,d,p,v,m,g,y,x,w;return Sn(this,(function(b){for((a=[])[r-2]=NaN,o=1-r,c=NaN,l=NaN,h=NaN,f=NaN,d=0,p=0,v=0,m=0,g=0,y=0;y<u&&o==1-r;++y,++o)p=e[y],v=o,d=t[y],m=o;for(;y<u&&o<0;++y,++o)p<=e[y]&&(p=e[y],v=o),d>=t[y]&&(d=t[y],m=o);for(;y<u&&0==o;++y,++o)p<=e[y]&&(p=e[y],v=o),d>=t[y]&&(d=t[y],m=o),c=l=n[y]-.5*(p+d),h=f=p-d,a.push(100*l/(.5*f));for(;y<u;++y,++o){if(v==o-r)for(p=e[y],v=o,x=1;x<r;++x)(g=e[y-x])>p&&(p=g,v=o-x);else p<=e[y]&&(p=e[y],v=o);if(m==o-r)for(d=t[y],m=o,w=1;w<r;++w)(g=t[y-w])<d&&(d=g,m=o-w);else d>=t[y]&&(d=t[y],m=o);c=(n[y]-.5*(p+d)-c)*(2/(1+i))+c,l=2/(1+s)*(c-l)+l,f=2/(1+s)*((h=2/(1+i)*(p-d-h)+h)-f)+f,a.push(100*l/(.5*f))}return[2,a]}))}))()}},{key:"tsi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;return _n((function(){var i,s,u,a,o,c,l,h;return Sn(this,(function(f){for((i=[])[0]=NaN,s=-1,u=0,a=0,o=0,c=0,l=0,h=0;h<r&&-1==s;++h,++s)u=e[h];for(;h<r&&0==s;++h,++s)o=a=e[h]-u,l=c=Math.abs(e[h]-u),i.push(100*(l?o/l:0)),u=e[h];for(;h<r;++h,++s)a=2*(e[h]-u-a)/(1+t)+a,c=2*(Math.abs(e[h]-u)-c)/(1+t)+c,o=2*(a-o)/(1+n)+o,l=2*(c-l)/(1+n)+l,i.push(100*(l?o/l:0)),u=e[h];return[2,i]}))}))()}},{key:"vwap",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length;return _n((function(){var u,a,o,c,l;return Sn(this,(function(h){for((u=[])[i-2]=NaN,a=1-i,o=0,c=0,l=0;l<s&&a<1;++l,++a)o+=(e[l]+t[l]+n[l])/3*r[l],c+=r[l];for(l>0&&1==a&&u.push(o/c);l<s;++l,++a)o+=(e[l]+t[l]+n[l])/3*r[l]-(e[l-i]+t[l-i]+n[l-i])/3*r[l-i],c+=r[l]-r[l-i],u.push(o/c);return[2,u]}))}))()}}],n&&kn(t.prototype,n),e}(),Tn=9e15,En=1e9,An="0123456789abcdef",zn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",jn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Tn,maxE:Tn,crypto:!1},In=!0,Pn="[DecimalError] ",qn=Pn+"Invalid argument: ",Rn=Pn+"Precision limit exceeded",Dn=Pn+"crypto unavailable",Un="[object Decimal]",Ln=Math.floor,$n=Math.pow,Fn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Bn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Vn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Kn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wn=1e7,Hn=7,Gn=zn.length-1,Jn=jn.length-1,Yn={toStringTag:Un};function Xn(e){var t,n,r,i=e.length-1,s="",u=e[0];if(i>0){for(s+=u,t=1;t<i;t++)r=e[t]+"",(n=Hn-r.length)&&(s+=cr(n)),s+=r;u=e[t],(n=Hn-(r=u+"").length)&&(s+=cr(n))}else if(0===u)return"0";for(;u%10==0;)u/=10;return s+u}function Qn(e,t,n){if(e!==~~e||e<t||e>n)throw Error(qn+e)}function er(e,t,n,r){var i,s,u,a;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=Hn,i=0):(i=Math.ceil((t+1)/Hn),t%=Hn),s=$n(10,Hn-t),a=e[i]%s|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),u=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):u=(n<4&&a+1==s||n>3&&a+1==s/2)&&(e[i+1]/s/100|0)==$n(10,t-2)-1||(a==s/2||0==a)&&0==(e[i+1]/s/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),u=(r||n<4)&&9999==a||!r&&n>3&&4999==a):u=((r||n<4)&&a+1==s||!r&&n>3&&a+1==s/2)&&(e[i+1]/s/1e3|0)==$n(10,t-3)-1,u}function tr(e,t,n){for(var r,i,s=[0],u=0,a=e.length;u<a;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=An.indexOf(e.charAt(u++)),r=0;r<s.length;r++)s[r]>n-1&&(void 0===s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}Yn.absoluteValue=Yn.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),rr(e)},Yn.ceil=function(){return rr(new this.constructor(this),this.e+1,2)},Yn.clampedTo=Yn.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(qn+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},Yn.comparedTo=Yn.cmp=function(e){var t,n,r,i,s=this,u=s.d,a=(e=new s.constructor(e)).d,o=s.s,c=e.s;if(!u||!a)return o&&c?o!==c?o:u===a?0:!u^o<0?1:-1:NaN;if(!u[0]||!a[0])return u[0]?o:a[0]?-c:0;if(o!==c)return o;if(s.e!==e.e)return s.e>e.e^o<0?1:-1;for(t=0,n=(r=u.length)<(i=a.length)?r:i;t<n;++t)if(u[t]!==a[t])return u[t]>a[t]^o<0?1:-1;return r===i?0:r>i^o<0?1:-1},Yn.cosine=Yn.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Hn,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;(r=t.d.length)<32?i=(1/xr(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=yr(e,1,t.times(i),new e(1));for(var s=n;s--;){var u=t.times(t);t=u.times(u).minus(u).times(8).plus(1)}return e.precision-=n,t}(r,wr(r,n)),r.precision=e,r.rounding=t,rr(2==On||3==On?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Yn.cubeRoot=Yn.cbrt=function(){var e,t,n,r,i,s,u,a,o,c,l=this,h=l.constructor;if(!l.isFinite()||l.isZero())return new h(l);for(In=!1,(s=l.s*$n(l.s*l,1/3))&&Math.abs(s)!=1/0?r=new h(s.toString()):(n=Xn(l.d),(s=((e=l.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=$n(n,1/3),e=Ln((e+1)/3)-(e%3==(e<0?-1:2)),(r=new h(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),u=(e=h.precision)+3;;)if(c=(o=(a=r).times(a).times(a)).plus(l),r=nr(c.plus(l).times(a),c.plus(o),u+2,1),Xn(a.d).slice(0,u)===(n=Xn(r.d)).slice(0,u)){if("9999"!=(n=n.slice(u-3,u+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(rr(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(rr(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}u+=4,i=1}return In=!0,rr(r,e,h.rounding,t)},Yn.decimalPlaces=Yn.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-Ln(this.e/Hn))*Hn,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Yn.dividedBy=Yn.div=function(e){return nr(this,new this.constructor(e))},Yn.dividedToIntegerBy=Yn.divToInt=function(e){var t=this.constructor;return rr(nr(this,new t(e),0,1,1),t.precision,t.rounding)},Yn.equals=Yn.eq=function(e){return 0===this.cmp(e)},Yn.floor=function(){return rr(new this.constructor(this),this.e+1,3)},Yn.greaterThan=Yn.gt=function(e){return this.cmp(e)>0},Yn.greaterThanOrEqualTo=Yn.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Yn.hyperbolicCosine=Yn.cosh=function(){var e,t,n,r,i,s=this,u=s.constructor,a=new u(1);if(!s.isFinite())return new u(s.s?1/0:NaN);if(s.isZero())return a;n=u.precision,r=u.rounding,u.precision=n+Math.max(s.e,s.sd())+4,u.rounding=1,(i=s.d.length)<32?t=(1/xr(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=yr(u,1,s.times(t),new u(1),!0);for(var o,c=e,l=new u(8);c--;)o=s.times(s),s=a.minus(o.times(l.minus(o.times(l))));return rr(s,u.precision=n,u.rounding=r,!0)},Yn.hyperbolicSine=Yn.sinh=function(){var e,t,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=yr(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=yr(s,2,i=i.times(1/xr(5,e)),i,!0);for(var u,a=new s(5),o=new s(16),c=new s(20);e--;)u=i.times(i),i=i.times(a.plus(u.times(o.times(u).plus(c))))}return s.precision=t,s.rounding=n,rr(i,t,n,!0)},Yn.hyperbolicTangent=Yn.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,nr(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},Yn.inverseCosine=Yn.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,s=n.rounding;return-1!==r?0===r?t.isNeg()?ar(n,i,s):new n(0):new n(NaN):t.isZero()?ar(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=ar(n,i+4,s).times(.5),n.precision=i,n.rounding=s,e.minus(t))},Yn.inverseHyperbolicCosine=Yn.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,In=!1,n=n.times(n).minus(1).sqrt().plus(n),In=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Yn.inverseHyperbolicSine=Yn.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,In=!1,n=n.times(n).plus(1).sqrt().plus(n),In=!0,r.precision=e,r.rounding=t,n.ln())},Yn.inverseHyperbolicTangent=Yn.atanh=function(){var e,t,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?rr(new s(i),e,t,!0):(s.precision=n=r-i.e,i=nr(i.plus(1),new s(1).minus(i),n+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},Yn.inverseSine=Yn.asin=function(){var e,t,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),n=s.precision,r=s.rounding,-1!==t?0===t?((e=ar(s,n+4,r).times(.5)).s=i.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))},Yn.inverseTangent=Yn.atan=function(){var e,t,n,r,i,s,u,a,o,c=this,l=c.constructor,h=l.precision,f=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=Jn)return(u=ar(l,h+4,f).times(.25)).s=c.s,u}else{if(!c.s)return new l(NaN);if(h+4<=Jn)return(u=ar(l,h+4,f).times(.5)).s=c.s,u}for(l.precision=a=h+10,l.rounding=1,e=n=Math.min(28,a/Hn+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(In=!1,t=Math.ceil(a/Hn),r=1,o=c.times(c),u=new l(c),i=c;-1!==e;)if(i=i.times(o),s=u.minus(i.div(r+=2)),i=i.times(o),void 0!==(u=s.plus(i.div(r+=2))).d[t])for(e=t;u.d[e]===s.d[e]&&e--;);return n&&(u=u.times(2<<n-1)),In=!0,rr(u,l.precision=h,l.rounding=f,!0)},Yn.isFinite=function(){return!!this.d},Yn.isInteger=Yn.isInt=function(){return!!this.d&&Ln(this.e/Hn)>this.d.length-2},Yn.isNaN=function(){return!this.s},Yn.isNegative=Yn.isNeg=function(){return this.s<0},Yn.isPositive=Yn.isPos=function(){return this.s>0},Yn.isZero=function(){return!!this.d&&0===this.d[0]},Yn.lessThan=Yn.lt=function(e){return this.cmp(e)<0},Yn.lessThanOrEqualTo=Yn.lte=function(e){return this.cmp(e)<1},Yn.logarithm=Yn.log=function(e){var t,n,r,i,s,u,a,o,c=this,l=c.constructor,h=l.precision,f=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(i=n[0];i%10==0;)i/=10;s=1!==i}if(In=!1,u=pr(c,a=h+5),r=t?ur(l,a+10):pr(e,a),er((o=nr(u,r,a,1)).d,i=h,f))do{if(u=pr(c,a+=10),r=t?ur(l,a+10):pr(e,a),o=nr(u,r,a,1),!s){+Xn(o.d).slice(i+1,i+15)+1==1e14&&(o=rr(o,h+1,0));break}}while(er(o.d,i+=10,f));return In=!0,rr(o,h,f)},Yn.minus=Yn.sub=function(e){var t,n,r,i,s,u,a,o,c,l,h,f,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new p(e.d||d.s!==e.s?d:NaN):e=new p(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,f=e.d,a=p.precision,o=p.rounding,!c[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!c[0])return new p(3===o?-0:0);e=new p(d)}return In?rr(e,a,o):e}if(n=Ln(e.e/Hn),l=Ln(d.e/Hn),c=c.slice(),s=l-n){for((h=s<0)?(t=c,s=-s,u=f.length):(t=f,n=l,u=c.length),s>(r=Math.max(Math.ceil(a/Hn),u)+2)&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for((h=(r=c.length)<(u=f.length))&&(u=r),r=0;r<u;r++)if(c[r]!=f[r]){h=c[r]<f[r];break}s=0}for(h&&(t=c,c=f,f=t,e.s=-e.s),u=c.length,r=f.length-u;r>0;--r)c[u++]=0;for(r=f.length;r>s;){if(c[--r]<f[r]){for(i=r;i&&0===c[--i];)c[i]=Wn-1;--c[i],c[r]+=Wn}c[r]-=f[r]}for(;0===c[--u];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=sr(c,n),In?rr(e,a,o):e):new p(3===o?-0:0)},Yn.modulo=Yn.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?rr(new r(n),r.precision,r.rounding):(In=!1,9==r.modulo?(t=nr(n,e.abs(),0,3,1)).s*=e.s:t=nr(n,e,0,r.modulo,1),t=t.times(e),In=!0,n.minus(t))},Yn.naturalExponential=Yn.exp=function(){return dr(this)},Yn.naturalLogarithm=Yn.ln=function(){return pr(this)},Yn.negated=Yn.neg=function(){var e=new this.constructor(this);return e.s=-e.s,rr(e)},Yn.plus=Yn.add=function(e){var t,n,r,i,s,u,a,o,c,l,h=this,f=h.constructor;if(e=new f(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new f(e.d||h.s===e.s?h:NaN)):e=new f(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(c=h.d,l=e.d,a=f.precision,o=f.rounding,!c[0]||!l[0])return l[0]||(e=new f(h)),In?rr(e,a,o):e;if(s=Ln(h.e/Hn),r=Ln(e.e/Hn),c=c.slice(),i=s-r){for(i<0?(n=c,i=-i,u=l.length):(n=l,r=s,u=c.length),i>(u=(s=Math.ceil(a/Hn))>u?s+1:u+1)&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((u=c.length)-(i=l.length)<0&&(i=u,n=l,l=c,c=n),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/Wn|0,c[i]%=Wn;for(t&&(c.unshift(t),++r),u=c.length;0==c[--u];)c.pop();return e.d=c,e.e=sr(c,r),In?rr(e,a,o):e},Yn.precision=Yn.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(qn+e);return n.d?(t=or(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},Yn.round=function(){var e=this,t=e.constructor;return rr(new t(e),e.e+1,t.rounding)},Yn.sine=Yn.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Hn,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:yr(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=yr(e,2,t=t.times(1/xr(5,n)),t);for(var i,s=new e(5),u=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(s.plus(i.times(u.times(i).minus(a))));return t}(r,wr(r,n)),r.precision=e,r.rounding=t,rr(On>2?n.neg():n,e,t,!0)):new r(NaN)},Yn.squareRoot=Yn.sqrt=function(){var e,t,n,r,i,s,u=this,a=u.d,o=u.e,c=u.s,l=u.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?u:1/0);for(In=!1,0==(c=Math.sqrt(+u))||c==1/0?(((t=Xn(a)).length+o)%2==0&&(t+="0"),c=Math.sqrt(t),o=Ln((o+1)/2)-(o<0||o%2),r=new l(t=c==1/0?"5e"+o:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+o)):r=new l(c.toString()),n=(o=l.precision)+3;;)if(r=(s=r).plus(nr(u,s,n+2,1)).times(.5),Xn(s.d).slice(0,n)===(t=Xn(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(rr(r,o+1,1),e=!r.times(r).eq(u));break}if(!i&&(rr(s,o+1,0),s.times(s).eq(u))){r=s;break}n+=4,i=1}return In=!0,rr(r,o,l.rounding,e)},Yn.tangent=Yn.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=nr(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,rr(2==On||4==On?n.neg():n,e,t,!0)):new r(NaN)},Yn.times=Yn.mul=function(e){var t,n,r,i,s,u,a,o,c,l=this,h=l.constructor,f=l.d,d=(e=new h(e)).d;if(e.s*=l.s,!(f&&f[0]&&d&&d[0]))return new h(!e.s||f&&!f[0]&&!d||d&&!d[0]&&!f?NaN:f&&d?0*e.s:e.s/0);for(n=Ln(l.e/Hn)+Ln(e.e/Hn),(o=f.length)<(c=d.length)&&(s=f,f=d,d=s,u=o,o=c,c=u),s=[],r=u=o+c;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=o+r;i>r;)a=s[i]+d[r]*f[i-r-1]+t,s[i--]=a%Wn|0,t=a/Wn|0;s[i]=(s[i]+t)%Wn|0}for(;!s[--u];)s.pop();return t?++n:s.shift(),e.d=s,e.e=sr(s,n),In?rr(e,h.precision,h.rounding):e},Yn.toBinary=function(e,t){return br(this,2,e,t)},Yn.toDecimalPlaces=Yn.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Qn(e,0,En),void 0===t?t=r.rounding:Qn(t,0,8),rr(n,e+n.e+1,t))},Yn.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=ir(r,!0):(Qn(e,0,En),void 0===t?t=i.rounding:Qn(t,0,8),n=ir(r=rr(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Yn.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?n=ir(i):(Qn(e,0,En),void 0===t?t=s.rounding:Qn(t,0,8),n=ir(r=rr(new s(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Yn.toFraction=function(e){var t,n,r,i,s,u,a,o,c,l,h,f,d=this,p=d.d,v=d.constructor;if(!p)return new v(d);if(c=n=new v(1),r=o=new v(0),u=(s=(t=new v(r)).e=or(p)-d.e-1)%Hn,t.d[0]=$n(10,u<0?Hn+u:u),null==e)e=s>0?t:c;else{if(!(a=new v(e)).isInt()||a.lt(c))throw Error(qn+a);e=a.gt(t)?s>0?t:c:a}for(In=!1,a=new v(Xn(p)),l=v.precision,v.precision=s=p.length*Hn*2;h=nr(a,t,0,1,1),1!=(i=n.plus(h.times(r))).cmp(e);)n=r,r=i,i=c,c=o.plus(h.times(i)),o=i,i=t,t=a.minus(h.times(i)),a=i;return i=nr(e.minus(n),r,0,1,1),o=o.plus(i.times(c)),n=n.plus(i.times(r)),o.s=c.s=d.s,f=nr(c,r,s,1).minus(d).abs().cmp(nr(o,n,s,1).minus(d).abs())<1?[c,r]:[o,n],v.precision=l,In=!0,f},Yn.toHexadecimal=Yn.toHex=function(e,t){return br(this,16,e,t)},Yn.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:Qn(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(In=!1,n=nr(n,e,0,t,1).times(e),In=!0,rr(n)):(e.s=n.s,n=e),n},Yn.toNumber=function(){return+this},Yn.toOctal=function(e,t){return br(this,8,e,t)},Yn.toPower=Yn.pow=function(e){var t,n,r,i,s,u,a=this,o=a.constructor,c=+(e=new o(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new o($n(+a,c));if((a=new o(a)).eq(1))return a;if(r=o.precision,s=o.rounding,e.eq(1))return rr(a,r,s);if((t=Ln(e.e/Hn))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=lr(o,a,n,r),e.s<0?new o(1).div(i):rr(i,r,s);if((u=a.s)<0){if(t<e.d.length-1)return new o(NaN);if(0==(1&e.d[t])&&(u=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=u,a}return(t=0!=(n=$n(+a,c))&&isFinite(n)?new o(n+"").e:Ln(c*(Math.log("0."+Xn(a.d))/Math.LN10+a.e+1)))>o.maxE+1||t<o.minE-1?new o(t>0?u/0:0):(In=!1,o.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=dr(e.times(pr(a,r+n)),r)).d&&er((i=rr(i,r+5,1)).d,r,s)&&(t=r+10,+Xn((i=rr(dr(e.times(pr(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=rr(i,r+1,0))),i.s=u,In=!0,o.rounding=s,rr(i,r,s))},Yn.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=ir(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Qn(e,1,En),void 0===t?t=i.rounding:Qn(t,0,8),n=ir(r=rr(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Yn.toSignificantDigits=Yn.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Qn(e,1,En),void 0===t?t=n.rounding:Qn(t,0,8)),rr(new n(this),e,t)},Yn.toString=function(){var e=this,t=e.constructor,n=ir(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},Yn.truncated=Yn.trunc=function(){return rr(new this.constructor(this),this.e+1,1)},Yn.valueOf=Yn.toJSON=function(){var e=this,t=e.constructor,n=ir(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var nr=function(){function e(e,t,n){var r,i=0,s=e.length;for(e=e.slice();s--;)r=e[s]*t+i,e[s]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,u,a,o){var c,l,h,f,d,p,v,m,g,y,x,w,b,_,k,N,S,M,O,Z,T=r.constructor,E=r.s==i.s?1:-1,A=r.d,z=i.d;if(!(A&&A[0]&&z&&z[0]))return new T(r.s&&i.s&&(A?!z||A[0]!=z[0]:z)?A&&0==A[0]||!z?0*E:E/0:NaN);for(o?(d=1,l=r.e-i.e):(o=Wn,d=Hn,l=Ln(r.e/d)-Ln(i.e/d)),O=z.length,S=A.length,y=(g=new T(E)).d=[],h=0;z[h]==(A[h]||0);h++);if(z[h]>(A[h]||0)&&l--,null==s?(_=s=T.precision,u=T.rounding):_=a?s+(r.e-i.e)+1:s,_<0)y.push(1),p=!0;else{if(_=_/d+2|0,h=0,1==O){for(f=0,z=z[0],_++;(h<S||f)&&_--;h++)k=f*o+(A[h]||0),y[h]=k/z|0,f=k%z|0;p=f||h<S}else{for((f=o/(z[0]+1)|0)>1&&(z=e(z,f,o),A=e(A,f,o),O=z.length,S=A.length),N=O,w=(x=A.slice(0,O)).length;w<O;)x[w++]=0;(Z=z.slice()).unshift(0),M=z[0],z[1]>=o/2&&++M;do{f=0,(c=t(z,x,O,w))<0?(b=x[0],O!=w&&(b=b*o+(x[1]||0)),(f=b/M|0)>1?(f>=o&&(f=o-1),1==(c=t(v=e(z,f,o),x,m=v.length,w=x.length))&&(f--,n(v,O<m?Z:z,m,o))):(0==f&&(c=f=1),v=z.slice()),(m=v.length)<w&&v.unshift(0),n(x,v,w,o),-1==c&&(c=t(z,x,O,w=x.length))<1&&(f++,n(x,O<w?Z:z,w,o)),w=x.length):0===c&&(f++,x=[0]),y[h++]=f,c&&x[0]?x[w++]=A[N]||0:(x=[A[N]],w=1)}while((N++<S||void 0!==x[0])&&_--);p=void 0!==x[0]}y[0]||y.shift()}if(1==d)g.e=l,Mn=p;else{for(h=1,f=y[0];f>=10;f/=10)h++;g.e=h+l*d-1,rr(g,a?s+g.e+1:s,u,p)}return g}}();function rr(e,t,n,r){var i,s,u,a,o,c,l,h,f,d=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,a=h[0];a>=10;a/=10)i++;if((s=t-i)<0)s+=Hn,u=t,o=(l=h[f=0])/$n(10,i-u-1)%10|0;else if((f=Math.ceil((s+1)/Hn))>=(a=h.length)){if(!r)break e;for(;a++<=f;)h.push(0);l=o=0,i=1,u=(s%=Hn)-Hn+1}else{for(l=a=h[f],i=1;a>=10;a/=10)i++;o=(u=(s%=Hn)-Hn+i)<0?0:l/$n(10,i-u-1)%10|0}if(r=r||t<0||void 0!==h[f+1]||(u<0?l:l%$n(10,i-u-1)),c=n<4?(o||r)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||r||6==n&&(s>0?u>0?l/$n(10,i-u):0:h[f-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=$n(10,(Hn-t%Hn)%Hn),e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=f,a=1,f--):(h.length=f+1,a=$n(10,Hn-s),h[f]=u>0?(l/$n(10,i-u)%$n(10,u)|0)*a:0),c)for(;;){if(0==f){for(s=1,u=h[0];u>=10;u/=10)s++;for(u=h[0]+=a,a=1;u>=10;u/=10)a++;s!=a&&(e.e++,h[0]==Wn&&(h[0]=1));break}if(h[f]+=a,h[f]!=Wn)break;h[f--]=0,a=1}for(s=h.length;0===h[--s];)h.pop()}return In&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function ir(e,t,n){if(!e.isFinite())return vr(e);var r,i=e.e,s=Xn(e.d),u=s.length;return t?(n&&(r=n-u)>0?s=s.charAt(0)+"."+s.slice(1)+cr(r):u>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+cr(-i-1)+s,n&&(r=n-u)>0&&(s+=cr(r))):i>=u?(s+=cr(i+1-u),n&&(r=n-i-1)>0&&(s=s+"."+cr(r))):((r=i+1)<u&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(s+="."),s+=cr(r))),s}function sr(e,t){var n=e[0];for(t*=Hn;n>=10;n/=10)t++;return t}function ur(e,t,n){if(t>Gn)throw In=!0,n&&(e.precision=n),Error(Rn);return rr(new e(zn),t,1,!0)}function ar(e,t,n){if(t>Jn)throw Error(Rn);return rr(new e(jn),t,n,!0)}function or(e){var t=e.length-1,n=t*Hn+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function cr(e){for(var t="";e--;)t+="0";return t}function lr(e,t,n,r){var i,s=new e(1),u=Math.ceil(r/Hn+4);for(In=!1;;){if(n%2&&_r((s=s.times(t)).d,u)&&(i=!0),0===(n=Ln(n/2))){n=s.d.length-1,i&&0===s.d[n]&&++s.d[n];break}_r((t=t.times(t)).d,u)}return In=!0,s}function hr(e){return 1&e.d[e.d.length-1]}function fr(e,t,n){for(var r,i=new e(t[0]),s=0;++s<t.length;){if(!(r=new e(t[s])).s){i=r;break}i[n](r)&&(i=r)}return i}function dr(e,t){var n,r,i,s,u,a,o,c=0,l=0,h=0,f=e.constructor,d=f.rounding,p=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(In=!1,o=p):o=t,a=new f(.03125);e.e>-2;)e=e.times(a),h+=5;for(o+=r=Math.log($n(2,h))/Math.LN10*2+5|0,n=s=u=new f(1),f.precision=o;;){if(s=rr(s.times(e),o,1),n=n.times(++l),Xn((a=u.plus(nr(s,n,o,1))).d).slice(0,o)===Xn(u.d).slice(0,o)){for(i=h;i--;)u=rr(u.times(u),o,1);if(null!=t)return f.precision=p,u;if(!(c<3&&er(u.d,o-r,d,c)))return rr(u,f.precision=p,d,In=!0);f.precision=o+=10,n=s=a=new f(1),l=0,c++}u=a}}function pr(e,t){var n,r,i,s,u,a,o,c,l,h,f,d=1,p=e,v=p.d,m=p.constructor,g=m.rounding,y=m.precision;if(p.s<0||!v||!v[0]||!p.e&&1==v[0]&&1==v.length)return new m(v&&!v[0]?-1/0:1!=p.s?NaN:v?0:p);if(null==t?(In=!1,l=y):l=t,m.precision=l+=10,r=(n=Xn(v)).charAt(0),!(Math.abs(s=p.e)<15e14))return c=ur(m,l+2,y).times(s+""),p=pr(new m(r+"."+n.slice(1)),l-10).plus(c),m.precision=y,null==t?rr(p,y,g,In=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Xn((p=p.times(e)).d)).charAt(0),d++;for(s=p.e,r>1?(p=new m("0."+n),s++):p=new m(r+"."+n.slice(1)),h=p,o=u=p=nr(p.minus(1),p.plus(1),l,1),f=rr(p.times(p),l,1),i=3;;){if(u=rr(u.times(f),l,1),Xn((c=o.plus(nr(u,new m(i),l,1))).d).slice(0,l)===Xn(o.d).slice(0,l)){if(o=o.times(2),0!==s&&(o=o.plus(ur(m,l+2,y).times(s+""))),o=nr(o,new m(d),l,1),null!=t)return m.precision=y,o;if(!er(o.d,l-10,g,a))return rr(o,m.precision=y,g,In=!0);m.precision=l+=10,c=u=p=nr(h.minus(1),h.plus(1),l,1),f=rr(p.times(p),l,1),i=a=1}o=c,i+=2}}function vr(e){return String(e.s*e.s/0)}function mr(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Hn,n<0&&(r+=Hn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Hn;r<i;)e.d.push(+t.slice(r,r+=Hn));t=t.slice(r),r=Hn-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),In&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function gr(e,t){var n,r,i,s,u,a,o,c,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Kn.test(t))return mr(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Bn.test(t))n=16,t=t.toLowerCase();else if(Fn.test(t))n=2;else{if(!Vn.test(t))throw Error(qn+t);n=8}for((s=t.search(/p/i))>0?(o=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),u=(s=t.indexOf("."))>=0,r=e.constructor,u&&(s=(a=(t=t.replace(".","")).length)-s,i=lr(r,new r(n),s,2*s)),s=l=(c=tr(t,n,Wn)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*e.s):(e.e=sr(c,l),e.d=c,In=!1,u&&(e=nr(e,i,4*a)),o&&(e=e.times(Math.abs(o)<54?$n(2,o):ci.pow(2,o))),In=!0,e)}function yr(e,t,n,r,i){var s,u,a,o,c=e.precision,l=Math.ceil(c/Hn);for(In=!1,o=n.times(n),a=new e(r);;){if(u=nr(a.times(o),new e(t++*t++),c,1),a=i?r.plus(u):r.minus(u),r=nr(u.times(o),new e(t++*t++),c,1),void 0!==(u=a.plus(r)).d[l]){for(s=l;u.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=r,r=u,u=s}return In=!0,u.d.length=l+1,u}function xr(e,t){for(var n=e;--t;)n*=e;return n}function wr(e,t){var n,r=t.s<0,i=ar(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return On=r?4:1,t;if((n=t.divToInt(i)).isZero())On=r?3:2;else{if((t=t.minus(n.times(i))).lte(s))return On=hr(n)?r?2:3:r?4:1,t;On=hr(n)?r?1:4:r?3:2}return t.minus(i).abs()}function br(e,t,n,r){var i,s,u,a,o,c,l,h,f,d=e.constructor,p=void 0!==n;if(p?(Qn(n,1,En),void 0===r?r=d.rounding:Qn(r,0,8)):(n=d.precision,r=d.rounding),e.isFinite()){for(p?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(u=(l=ir(e)).indexOf("."))>=0&&(l=l.replace(".",""),(f=new d(1)).e=l.length-u,f.d=tr(ir(f),10,i),f.e=f.d.length),s=o=(h=tr(l,10,i)).length;0==h[--o];)h.pop();if(h[0]){if(u<0?s--:((e=new d(e)).d=h,e.e=s,h=(e=nr(e,f,n,r,0,i)).d,s=e.e,c=Mn),u=h[n],a=i/2,c=c||void 0!==h[n+1],c=r<4?(void 0!==u||c)&&(0===r||r===(e.s<0?3:2)):u>a||u===a&&(4===r||c||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,c)for(;++h[--n]>i-1;)h[n]=0,n||(++s,h.unshift(1));for(o=h.length;!h[o-1];--o);for(u=0,l="";u<o;u++)l+=An.charAt(h[u]);if(p){if(o>1)if(16==t||8==t){for(u=16==t?4:3,--o;o%u;o++)l+="0";for(o=(h=tr(l,i,t)).length;!h[o-1];--o);for(u=1,l="1.";u<o;u++)l+=An.charAt(h[u])}else l=l.charAt(0)+"."+l.slice(1);l=l+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)l="0"+l;l="0."+l}else if(++s>o)for(s-=o;s--;)l+="0";else s<o&&(l=l.slice(0,s)+"."+l.slice(s))}else l=p?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=vr(e);return e.s<0?"-"+l:l}function _r(e,t){if(e.length>t)return e.length=t,!0}function kr(e){return new this(e).abs()}function Nr(e){return new this(e).acos()}function Sr(e){return new this(e).acosh()}function Mr(e,t){return new this(e).plus(t)}function Or(e){return new this(e).asin()}function Zr(e){return new this(e).asinh()}function Tr(e){return new this(e).atan()}function Er(e){return new this(e).atanh()}function Ar(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,s=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?ar(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=ar(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,n=this.atan(nr(e,t,s,1)),t=ar(this,s,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(nr(e,t,s,1)):(n=ar(this,s,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function zr(e){return new this(e).cbrt()}function jr(e){return rr(e=new this(e),e.e+1,2)}function Cr(e,t,n){return new this(e).clamp(t,n)}function Ir(e){if(!e||"object"!=typeof e)throw Error(Pn+"Object expected");var t,n,r,i=!0===e.defaults,s=["precision",1,En,"rounding",0,8,"toExpNeg",-Tn,0,"toExpPos",0,Tn,"maxE",0,Tn,"minE",-Tn,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],i&&(this[n]=Cn[n]),void 0!==(r=e[n])){if(!(Ln(r)===r&&r>=s[t+1]&&r<=s[t+2]))throw Error(qn+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=Cn[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(qn+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Dn);this[n]=!0}else this[n]=!1}return this}function Pr(e){return new this(e).cos()}function qr(e){return new this(e).cosh()}function Rr(e,t){return new this(e).div(t)}function Dr(e){return new this(e).exp()}function Ur(e){return rr(e=new this(e),e.e+1,3)}function Lr(){var e,t,n=new this(0);for(In=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return In=!0,new this(1/0);n=t}return In=!0,n.sqrt()}function $r(e){return e instanceof ci||e&&e.toStringTag===Un||!1}function Fr(e){return new this(e).ln()}function Br(e,t){return new this(e).log(t)}function Vr(e){return new this(e).log(2)}function Kr(e){return new this(e).log(10)}function Wr(){return fr(this,arguments,"lt")}function Hr(){return fr(this,arguments,"gt")}function Gr(e,t){return new this(e).mod(t)}function Jr(e,t){return new this(e).mul(t)}function Yr(e,t){return new this(e).pow(t)}function Xr(e){var t,n,r,i,s=0,u=new this(1),a=[];if(void 0===e?e=this.precision:Qn(e,1,En),r=Math.ceil(e/Hn),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Dn);for(t=crypto.randomBytes(r*=4);s<r;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(i%1e7),s+=4);s=r/4}else for(;s<r;)a[s++]=1e7*Math.random()|0;for(r=a[--s],e%=Hn,r&&e&&(i=$n(10,Hn-e),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(s<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=Hn)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Hn&&(n-=Hn-r)}return u.e=n,u.d=a,u}function Qr(e){return rr(e=new this(e),e.e+1,this.rounding)}function ei(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function ti(e){return new this(e).sin()}function ni(e){return new this(e).sinh()}function ri(e){return new this(e).sqrt()}function ii(e,t){return new this(e).sub(t)}function si(){var e=0,t=arguments,n=new this(t[e]);for(In=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return In=!0,rr(n,this.precision,this.rounding)}function ui(e){return new this(e).tan()}function ai(e){return new this(e).tanh()}function oi(e){return rr(e=new this(e),e.e+1,1)}Yn[Symbol.for("nodejs.util.inspect.custom")]=Yn.toString,Yn[Symbol.toStringTag]="Decimal";var ci=Yn.constructor=function e(t){var n,r,i;function s(e){var t,n,r,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,$r(e))return i.s=e.s,void(In?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(In?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):mr(i,e.toString())}if("string"!==r)throw Error(qn+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),Kn.test(e)?mr(i,e):gr(i,e)}if(s.prototype=Yn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Ir,s.clone=e,s.isDecimal=$r,s.abs=kr,s.acos=Nr,s.acosh=Sr,s.add=Mr,s.asin=Or,s.asinh=Zr,s.atan=Tr,s.atanh=Er,s.atan2=Ar,s.cbrt=zr,s.ceil=jr,s.clamp=Cr,s.cos=Pr,s.cosh=qr,s.div=Rr,s.exp=Dr,s.floor=Ur,s.hypot=Lr,s.ln=Fr,s.log=Br,s.log10=Kr,s.log2=Vr,s.max=Wr,s.min=Hr,s.mod=Gr,s.mul=Jr,s.pow=Yr,s.random=Xr,s.round=Qr,s.sign=ei,s.sin=ti,s.sinh=ni,s.sqrt=ri,s.sub=ii,s.sum=si,s.tan=ui,s.tanh=ai,s.trunc=oi,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(Cn);function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(e,t,n,r,i,s,u){try{var a=e[s](u),o=a.value}catch(e){return void n(e)}a.done?t(o):Promise.resolve(o).then(r,i)}function fi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function u(e){hi(s,r,i,u,a,"next",e)}function a(e){hi(s,r,i,u,a,"throw",e)}u(void 0)}))}}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);u=!0);}catch(e){a=!0,i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?li(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){var n,r,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,r=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){u=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){u.label=s[1];break}if(6===s[0]&&u.label<i[1]){u.label=i[1],i=s;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(s);break}i[2]&&u.ops.pop(),u.trys.pop();continue}s=t.call(e,u)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}zn=new ci(zn),jn=new ci(jn);var vi=new Zn;function mi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=fi((function(e,t){return pi(this,(function(n){switch(n.label){case 0:return[4,vi.sma(z(e),t)];case 1:return[2,Fi.apply(void 0,[n.sent()])]}}))}))).apply(this,arguments)}function yi(e,t){return vi.ema(z(e),t)}function xi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=fi((function(e,t){return pi(this,(function(n){switch(n.label){case 0:return[4,vi.wma(z(e),t)];case 1:return[2,Fi.apply(void 0,[n.sent()])]}}))}))).apply(this,arguments)}function bi(){return(bi=fi((function(e,t,n){var r;return pi(this,(function(i){switch(i.label){case 0:return r=e.reduce((function(e,t){var n=e.volumeSeries;return{volumeSeries:T(t.volume,n)}}),{volumeSeries:[]}).volumeSeries,[4,vi.vwma(z(t),r,n)];case 1:return[2,Fi.apply(void 0,[i.sent()])]}}))}))).apply(this,arguments)}function _i(){return(_i=fi((function(e,t,n){var r,i,s,u,a,o,c,l,h;return pi(this,(function(f){switch(f.label){case 0:return r=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.closeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),closeSeries:T(t.close,i)}}),{highSeries:[],lowSeries:[],closeSeries:[]}),i=r.highSeries,s=r.lowSeries,u=r.closeSeries,a=V((function(e,t){return new ci(e).plus(t).dividedBy(2).toNumber()}),i,s),[4,Li(e,n)];case 1:return o=f.sent(),c=u.reduce((function(e,n,r){var i,s=e.upperBandSeries,c=e.lowerBandSeries,l=e.supertrendSeries,h=e.directionSeries,f=o[r],d=a[r],p=isNaN(f)?NaN:new ci(d).plus(new ci(t).times(f)).toNumber(),v=isNaN(f)?NaN:new ci(d).minus(new ci(t).times(f)).toNumber(),m=I(0,en(c,r)),g=I(0,en(s,r)),y=en(u,r);v=v>m||y&&y<m?v:m,p=p<g||y&&y>g?p:g;var x=en(l,r),w=en(o,r),b=-1==(i=tn(w)||isNaN(w)?1:x===g?n>p?-1:1:n<v?1:-1)?v:p;return{upperBandSeries:T(p,s),lowerBandSeries:T(v,c),supertrendSeries:T(b,l),directionSeries:T(i,h)}}),{upperBandSeries:[],lowerBandSeries:[],supertrendSeries:[],directionSeries:[]}),l=c.supertrendSeries,h=c.directionSeries,[2,{supertrend:l,direction:h}]}}))}))).apply(this,arguments)}function ki(){return(ki=fi((function(e,t){var n,r,i,s,u;return pi(this,(function(a){switch(a.label){case 0:return n=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.closeSeries,s=e.volumeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),closeSeries:T(t.close,i),volumeSeries:T(t.volume,s)}}),{highSeries:[],lowSeries:[],closeSeries:[],volumeSeries:[]}),r=n.highSeries,i=n.lowSeries,s=n.closeSeries,u=n.volumeSeries,[4,vi.mfi(r,i,s,u,t)];case 1:return[2,Fi.apply(void 0,[a.sent()])]}}))}))).apply(this,arguments)}function Ni(){return(Ni=fi((function(e,t){var n,r,i,s,u;return pi(this,(function(a){switch(a.label){case 0:return n=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.closeSeries,s=e.volumeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),closeSeries:T(t.close,i),volumeSeries:T(t.volume,s)}}),{highSeries:[],lowSeries:[],closeSeries:[],volumeSeries:[]}),r=n.highSeries,i=n.lowSeries,s=n.closeSeries,u=n.volumeSeries,[4,vi.vwap(r,i,s,u,t)];case 1:return[2,Fi.apply(void 0,[a.sent()])]}}))}))).apply(this,arguments)}function Si(e,t){return Mi.apply(this,arguments)}function Mi(){return(Mi=fi((function(e,t){return pi(this,(function(n){switch(n.label){case 0:return[4,vi.mom(z(e),t)];case 1:return[2,Fi.apply(void 0,[n.sent()])]}}))}))).apply(this,arguments)}function Oi(e,t,n,r){return Zi.apply(this,arguments)}function Zi(){return Zi=fi((function(e,t,n,r){var i,s,u,a;return pi(this,(function(o){switch(o.label){case 0:return[4,vi.macd(z(e),t,n,r)];case 1:return i=di.apply(void 0,[o.sent(),3]),s=i[0],u=i[1],a=i[2],[2,{macd:Fi(s),signal:Fi(u),histogram:Fi(a)}]}}))})),Zi.apply(this,arguments)}function Ti(e,t){return Ei.apply(this,arguments)}function Ei(){return(Ei=fi((function(e,t){return pi(this,(function(n){switch(n.label){case 0:return[4,vi.rsi(z(e),t)];case 1:return[2,Fi.apply(void 0,[n.sent()])]}}))}))).apply(this,arguments)}function Ai(){return(Ai=fi((function(e,t){var n,r,i;return pi(this,(function(s){switch(s.label){case 0:return n=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r)}}),{highSeries:[],lowSeries:[]}),r=n.highSeries,i=n.lowSeries,[4,vi.adx(r,i,t)];case 1:return[2,Fi.apply(void 0,[s.sent()])]}}))}))).apply(this,arguments)}function zi(e,t){return ji.apply(this,arguments)}function ji(){return(ji=fi((function(e,t){return pi(this,(function(n){switch(n.label){case 0:return[4,vi.roc(z(e),t)];case 1:return[2,Fi.apply(void 0,[n.sent()])]}}))}))).apply(this,arguments)}function Ci(){return(Ci=fi((function(e,t,n,r){var i,s,u,a,o,c,l;return pi(this,(function(h){switch(h.label){case 0:return i=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.closeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),closeSeries:T(t.close,i)}}),{highSeries:[],lowSeries:[],closeSeries:[]}),s=i.highSeries,u=i.lowSeries,a=i.closeSeries,[4,vi.stoch(s,u,a,t,n,r)];case 1:return o=di.apply(void 0,[h.sent(),2]),c=o[0],l=o[1],[2,{stoch:Fi(c),stochMa:Fi(l)}]}}))}))).apply(this,arguments)}function Ii(e,t){return Pi.apply(this,arguments)}function Pi(){return(Pi=fi((function(e,t){return pi(this,(function(n){switch(n.label){case 0:return[4,vi.stochrsi(z(e),t)];case 1:return[2,Fi.apply(void 0,[n.sent()])]}}))}))).apply(this,arguments)}function qi(e,t,n){return Ri.apply(this,arguments)}function Ri(){return(Ri=fi((function(e,t,n){var r,i,s,u;return pi(this,(function(a){switch(a.label){case 0:return[4,vi.bbands(z(e),t,n)];case 1:return r=di.apply(void 0,[a.sent(),3]),i=r[0],s=r[1],u=r[2],[2,{lower:Fi(i),middle:Fi(s),upper:Fi(u)}]}}))}))).apply(this,arguments)}function Di(e){return B([z(e.upper),z(e.middle),z(e.lower)]).map((function(e){var t=di(e,3),n=t[0],r=t[1],i=t[2];return new ci(n).minus(i).dividedBy(r).toNumber()}))}function Ui(){return(Ui=fi((function(e,t,n){var r,i,s,u,a,o,c,l;return pi(this,(function(h){switch(h.label){case 0:return r=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.closeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),closeSeries:T(t.close,i)}}),{highSeries:[],lowSeries:[],closeSeries:[]}),i=r.highSeries,s=r.lowSeries,u=r.closeSeries,[4,vi.kc(i,s,u,t,n)];case 1:return a=di.apply(void 0,[h.sent(),3]),o=a[0],c=a[1],l=a[2],[2,{lower:Fi(o),middle:Fi(c),upper:Fi(l)}]}}))}))).apply(this,arguments)}function Li(e,t){return $i.apply(this,arguments)}function $i(){return($i=fi((function(e,t){return pi(this,(function(n){switch(n.label){case 0:return[4,vi.atr(e.map(O("high")),e.map(O("low")),e.map(O("close")),t)];case 1:return[2,Fi.apply(void 0,[n.sent()])]}}))}))).apply(this,arguments)}function Fi(e){return Array.from(e,(function(e){return e||NaN}))}function Bi(e){return{crossover:nn,crossunder:rn,falling:sn,rising:un,highest:an,lowest:on,trend:{sma:mi,ema:yi,wma:xi,vwma:function(t,n){return function(e,t,n){return bi.apply(this,arguments)}(e,t,n)},supertrend:function(t,n){return function(e,t,n){return _i.apply(this,arguments)}(e,t,n)},psar:function(t,n){return function(e,t,n){var r=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r)}}),{highSeries:[],lowSeries:[]}),i=r.highSeries,s=r.lowSeries;return vi.psar(i,s,t,n)}(e,t,n)}},volume:{obv:function(){return function(e){var t=e.reduce((function(e,t){var n=e.closeSeries,r=e.volumeSeries;return{closeSeries:T(t.close,n),volumeSeries:T(t.volume,r)}}),{closeSeries:[],volumeSeries:[]}),n=t.closeSeries,r=t.volumeSeries;return vi.obv(n,r)}(e)},pvt:function(){return function(e){var t=e.reduce((function(e,t){var n=e.closeSeries,r=e.volumeSeries;return{closeSeries:T(t.close,n),volumeSeries:T(t.volume,r)}}),{closeSeries:[],volumeSeries:[]}),n=t.closeSeries,r=t.volumeSeries;return n.reduce((function(e,t,i){var s,u=e.pvtSeries,a=e.acc,o=null!==(s=en(n,i))&&void 0!==s?s:NaN,c=t-o,l=r[i],h=new ci(c).dividedBy(o).times(l).plus(a).toNumber();return{pvtSeries:T(h,u),acc:I(0,h)}}),{pvtSeries:[],acc:0}).pvtSeries}(e)},mfi:function(t){return function(e,t){return ki.apply(this,arguments)}(e,t)},ad:function(){return function(e){var t=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.closeSeries,s=e.volumeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),closeSeries:T(t.close,i),volumeSeries:T(t.volume,s)}}),{highSeries:[],lowSeries:[],closeSeries:[],volumeSeries:[]}),n=t.highSeries,r=t.lowSeries,i=t.closeSeries,s=t.volumeSeries;return vi.ad(n,r,i,s)}(e)},wad:function(){return function(e){var t=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.closeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),closeSeries:T(t.close,i)}}),{highSeries:[],lowSeries:[],closeSeries:[]}),n=t.highSeries,r=t.lowSeries,i=t.closeSeries;return vi.wad(n,r,i)}(e)},emv:function(){return function(e){var t=e.reduce((function(e,t){var n=e.highSeries,r=e.lowSeries,i=e.volumeSeries;return{highSeries:T(t.high,n),lowSeries:T(t.low,r),volumeSeries:T(t.volume,i)}}),{highSeries:[],lowSeries:[],volumeSeries:[]}),n=t.highSeries,r=t.lowSeries,i=t.volumeSeries;return vi.emv(n,r,i)}(e)},vwap:function(t){return function(e,t){return Ni.apply(this,arguments)}(e,t)}},momentum:{momentum:Si,macd:Oi,rsi:Ti,adx:function(t){return function(e,t){return Ai.apply(this,arguments)}(e,t)},roc:zi,stoch:function(t,n,r){return function(e,t,n,r){return Ci.apply(this,arguments)}(e,t,n,r)},stochRsi:Ii},volatility:{bb:qi,bbw:Di,kc:function(t,n){return function(e,t,n){return Ui.apply(this,arguments)}(e,t,n)},atr:function(t){return Li(e,t)}}}}_ta=t})();